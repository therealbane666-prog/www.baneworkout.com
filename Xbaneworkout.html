<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Baneworkout</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/jpeg" href="1762683699224.jpeg">
  <title>BANE WORKOUT - Suivi & Calculateur Expert V5.5</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Anton:wght@400&family=Inter:wght@300;400;700&display=swap');

    html {
      box-sizing: border-box
    }

    *,
    ::before,
    ::after {
      box-sizing: inherit
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #0a0a0a 0%, #330000 100%);
      color: #e0e0e0
    }

    .container {
      max-width: 850px;
      margin: 0 auto;
      background: #1a1a1a;
      padding: 25px;
      border-radius: 10px;
      border: 3px solid #ff0000;
      box-shadow: 0 0 40px rgba(255, 0, 0, .6);
      position: relative
    }

    .browser-note {
      position: absolute;
      top: 5px;
      right: 15px;
      font-size: .6em;
      color: #ff0000;
      background-color: transparent;
      padding: 0 4px;
      border-radius: 4px;
      z-index: 10;
      opacity: .4;
      font-style: normal;
      font-weight: bold;
      border: none;
      letter-spacing: 1px;
      font-family: 'Anton', sans-serif
    }

    h1 {
      font-family: 'Anton', sans-serif;
      color: #ff0000;
      text-align: center;
      margin-top: 0;
      font-weight: normal;
      letter-spacing: 4px;
      line-height: 1;
      position: relative
    }

    h1 span {
      display: block;
      font-size: 1.8em
    }

    h3.subtitle {
      display: none
    }

    h2 {
      color: #c00;
      text-align: center;
      border-bottom: 2px solid #c00;
      padding-bottom: 10px;
      margin-top: 30px;
      font-family: 'Anton', sans-serif;
      letter-spacing: 1.5px
    }

    .section {
      margin-bottom: 20px;
      padding: 20px;
      border: 1px solid #333;
      border-radius: 6px;
      background-color: #222
    }

    #step1-data-collection {
      background-color: #2a2a2a
    }

    label {
      display: block;
      margin-top: 15px;
      margin-bottom: 5px;
      font-weight: bold;
      color: #ff0000
    }

    input[type="number"],
    input[type="email"],
    input[type="date"],
    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      border-radius: 5px;
      box-sizing: border-box;
      background-color: #333;
      color: #fff;
      border: 1px solid #555;
      font-family: 'Inter', sans-serif
    }

    textarea {
      resize: vertical
    }

    button {
      background-color: #c00;
      color: white;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: background-color .3s, transform .1s;
      width: 100%;
      padding: 12px;
      border-radius: 5px;
      border: none;
      margin-top: 10px;
      font-family: 'Anton', sans-serif;
      letter-spacing: 1px
    }

    button:hover {
      background-color: #ff0000
    }

    .buy-button-pack {
      background-color: #FF8C00
    }

    .buy-button-pack:hover {
      background-color: #FF4500
    }

    .buy-button-training {
      background-color: #ff0000 !important;
      margin-top: 5px !important;
      font-size: .8em;
      padding: 6px;
      width: 90%
    }

    .buy-button-training:hover {
      background-color: #c00 !important
    }

    .view-full-history-btn {
      background-color: #333;
      font-size: .9em;
      padding: 8px;
      margin-top: 5px
    }

    .view-full-history-btn:hover {
      background-color: #555
    }

    .result {
      margin-top: 15px;
      padding: 15px;
      border: 2px solid #ff0000;
      border-radius: 4px;
      background-color: #111
    }

    .macro-detail {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px dashed #ff0000
    }

    .bmi-status {
      font-weight: bold;
      margin-left: 10px;
      padding: 2px 6px;
      border-radius: 3px;
      color: #000
    }

    .status-normal {
      background-color: #4CAF50
    }

    .status-surpoids {
      background-color: #FFC107
    }

    .status-obesite,
    .status-maigreur {
      background-color: #F44336
    }

    #step2-premium-pack {
      display: flex;
      flex-direction: row;
      gap: 20px
    }

    #step2-premium-pack>div {
      flex: 1
    }

    .pack-offer {
      border: 2px solid #ff0000;
      background: #111;
      padding: 20px;
      border-radius: 8px
    }

    .pack-header h3 {
      font-size: 1.5em;
      color: #fff;
      margin-bottom: 5px;
      text-align: center;
      font-family: 'Anton', sans-serif;
      letter-spacing: 1px
    }

    .pack-header p.price {
      font-size: 2em;
      font-weight: bold;
      color: #FFD700;
      text-align: center;
      margin-top: 0;
      margin-bottom: 15px;
      border-bottom: 1px dashed #333;
      padding-bottom: 10px
    }

    .pack-details ul {
      list-style: none;
      padding-left: 0;
      margin-top: 10px
    }

    .pack-details li {
      margin-bottom: 8px;
      color: #ccc;
      font-size: .95em
    }

    .pack-details li::before {
      content: 'üö®';
      margin-right: 8px;
      color: #ff0000;
      font-weight: bold
    }

    .pack-details li.bonus::before {
      content: '‚≠ê';
      color: gold
    }

    .bonus-title {
      color: #ff0000;
      font-weight: bold;
      margin-top: 15px;
      border-top: 1px solid #444;
      padding-top: 10px
    }

    .copyright-notice {
      text-align: center;
      font-size: .8em;
      color: #666;
      margin-top: 15px
    }

    .main-tabs-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
      margin-bottom: 0;
      border-bottom: none
    }

    .main-tab-button {
      flex-grow: 1;
      padding: 15px 10px;
      background-color: #333;
      color: #ccc;
      border: 1px solid #c00;
      border-bottom: none;
      cursor: pointer;
      font-weight: bold;
      text-align: center;
      border-radius: 6px 6px 0 0;
      transition: background-color .2s, color .2s;
      margin-right: 1px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-family: 'Anton', sans-serif;
      letter-spacing: 1px
    }

    .main-tab-button:last-child {
      margin-right: 0
    }

    .main-tab-button.active {
      background-color: #c00;
      color: white;
      border-color: #c00;
      z-index: 2
    }

    .main-tab-content {
      display: none;
      margin-top: 0;
      border-top: 1px solid #c00;
      background: #1a1a1a;
      padding: 20px;
      border: 1px solid #c00;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
      border-radius: 0 0 8px 8px
    }

    .main-tab-content.active {
      display: block
    }

    .tabs {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      margin-bottom: 0;
      border-bottom: none
    }

    .tab-button {
      flex-grow: 1;
      padding: 15px 10px;
      background-color: #333;
      color: #ccc;
      border: 1px solid #c00;
      border-bottom: none;
      cursor: pointer;
      font-weight: bold;
      text-align: center;
      border-radius: 6px 6px 0 0;
      transition: background-color .2s, color .2s;
      margin-right: 1px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-family: 'Anton', sans-serif;
      letter-spacing: 1px
    }

    .tab-button:last-child {
      margin-right: 0
    }

    .tab-button.active {
      background-color: #c00;
      color: white;
      border-color: #c00;
      z-index: 2
    }

    .tab-content {
      padding-top: 0;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
      display: none;
      margin-top: 0;
      border-top: 1px solid #c00
    }

    .tab-content.active {
      display: block
    }

    .resource-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      justify-content: center;
      padding: 10px 0
    }

    .resource-item {
      padding: 10px 5px;
      background: #333;
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      color: #ff0000;
      cursor: pointer;
      transition: background-color .2s, border .3s;
      border: 2px solid #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      font-family: 'Inter', sans-serif;
      letter-spacing: 0;
      min-height: 100px;
      position: relative;
      overflow: hidden
    }

    .resource-item:hover {
      background-color: #444;
      border-color: #ff0000
    }

    .resource-item[data-unlocked="true"] {
      border: 2px solid #008800;
      background-color: #1e3c1e
    }

    .resource-item[data-unlocked="true"]:hover {
      background-color: #2a502a
    }

    .resource-title-main {
      font-size: 1em;
      color: #fff;
      font-weight: bold;
      margin-bottom: 2px;
      line-height: 1.2;
      pointer-events: none;
      flex-grow: 1
    }

    .resource-item[data-unlocked="true"] .resource-title-main {
      color: #fff
    }

    .training-lock {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(26, 26, 26, .85);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-radius: 8px;
      z-index: 10;
      padding: 5px;
      transition: opacity .3s
    }

    .resource-item[data-unlocked="true"] .training-lock {
      display: none
    }

    .training-lock-icon {
      font-size: 1.8em;
      color: #FFD700;
      margin-bottom: 2px;
      text-shadow: 0 0 5px rgba(255, 215, 0, .6)
    }

    .training-lock-message {
      display: none
    }

    .training-lock-price {
      color: #FFD700;
      font-weight: bold;
      font-size: 1em;
      margin-bottom: 0;
      text-shadow: 0 0 5px rgba(255, 215, 0, .6)
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, .95)
    }

    .modal-content {
      background-color: #1a1a1a;
      margin: 5% auto;
      padding: 25px;
      border: 2px solid #c00;
      width: 90%;
      max-width: 700px;
      border-radius: 8px;
      box-shadow: 0 0 30px rgba(255, 0, 0, .5);
      max-height: 90vh;
      overflow-y: auto
    }

    .article-content h3 {
      color: #ff0000;
      border-bottom: 1px dashed #555;
      padding-bottom: 5px;
      font-size: 1.3em;
      margin-top: 20px
    }

    .article-content ul,
    .article-content ol {
      list-style: disc;
      padding-left: 20px
    }

    .article-content li {
      margin-bottom: 10px
    }

    .close-btn {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer
    }

    .close-btn:hover,
    .close-btn:focus {
      color: #fff;
      text-decoration: none;
      cursor: pointer
    }

    .signature {
      text-align: right;
      margin-top: 20px;
      font-size: .85em;
      color: #aaa
    }

    .article-rating-system {
      margin-top: 20px;
      border-top: 1px solid #444;
      padding-top: 10px;
      text-align: center
    }

    .article-rating-system .stars,
    .rating-system .stars {
      font-size: 1.8em;
      color: #555;
      cursor: pointer
    }

    .article-rating-system p {
      font-size: .85em;
      color: #ccc;
      margin-top: 5px
    }

    .stars span {
      cursor: pointer;
      transition: color .1s
    }

    #admin-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #FF0000;
      color: white;
      border: 1px solid #FFDD00;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      text-align: center;
      line-height: 35px;
      font-size: 1.1em;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 0 8px rgba(255, 0, 0, .6);
      transition: transform .2s
    }

    #admin-toggle:hover {
      transform: scale(1.1) rotate(5deg)
    }

    #admin-access-modal {
      display: none;
      position: fixed;
      bottom: 65px;
      right: 20px;
      background-color: #000;
      border: 2px solid #FFC107;
      padding: 15px;
      border-radius: 4px;
      box-shadow: 0 0 20px rgba(255, 193, 7, .5);
      width: 300px;
      z-index: 999
    }

    #admin-secret-modal {
      display: none;
      position: fixed;
      z-index: 200;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, .98)
    }

    #admin-secret-modal .modal-content {
      background-color: #000;
      border: 3px solid #00AAFF;
      max-width: 95%;
      max-height: 95vh;
      box-shadow: 0 0 50px rgba(0, 170, 255, .8)
    }

    #admin-secret-modal h2 {
      color: #00AAFF
    }

    #admin-tabs {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      border-bottom: 2px solid #00AAFF;
    }

    #admin-tabs .tab-button {
      flex-grow: 1;
      padding: 12px 10px;
      background-color: #222;
      color: #ccc;
      border: 1px solid #00AAFF;
      border-bottom: none;
      cursor: pointer;
      font-weight: bold;
      text-align: center;
      border-radius: 6px 6px 0 0;
      transition: background-color .2s, color .2s;
      margin-right: 2px;
      font-family: 'Anton', sans-serif;
      letter-spacing: 1px;
    }

    #admin-tabs .tab-button:last-child {
      margin-right: 0;
    }

    #admin-tabs .tab-button.active {
      background-color: #00AAFF;
      color: #000;
      border-color: #00AAFF;
    }

    .program-card {
      background-color: #222;
      padding: 10px;
      margin-bottom: 10px;
      border-left: 5px solid #00AAFF
    }

    #support-section h2 {
      color: #FFDD00;
      border-bottom: 2px solid #FFDD00
    }

    #support-button {
      background-color: #FFDD00;
      transition: background-color .3s
    }

    #support-button:hover {
      background-color: #FFA500
    }

    .like-button {
      background-color: transparent;
      color: #ff0000;
      border: 2px solid #ff0000;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: .9em;
      cursor: pointer;
      transition: background-color .2s, color .2s
    }

    .like-button:hover {
      background-color: #ff0000;
      color: #000
    }

    .like-button:disabled {
      cursor: not-allowed;
      opacity: .5
    }

    #main-header-info {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-top: 10px;
      margin-bottom: 20px;
      font-size: .9em
    }

    .table-responsive {
      overflow-x: auto
    }

    .table-responsive table {
      min-width: 400px;
      width: 100%
    }

    @media (max-width:650px) {
      .container {
        padding: 15px
      }

      .resource-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr))
      }

      .tab-button,
      .main-tab-button {
        font-size: .7em;
        padding: 10px 5px
      }

      #admin-access-modal {
        right: 10px;
        width: 260px
      }

      #admin-toggle {
        bottom: 10px;
        right: 10px
      }

      .pack-header h3 {
        font-size: 1.3em
      }

      .pack-header p.price {
        font-size: 1.8em
      }

      #step2-premium-pack {
        flex-direction: column
      }

      .buy-button-training {
        font-size: .75em;
        padding: 6px
      }
    }
  </style>
</head>

<body onload="initializeApp()">
  <div class="container">
    <div class="browser-note" id="header-note">Ouvrir par navigateur üåê</div>
    <h1><span>BANE</span><span>WORKOUT</span></h1>
    <div id="main-header-info"><a href="https://www.instagram.com/baneworkout.app?igsh=MWhhZ3g4bXMwYjY3ZQ==" target="_blank" style="color:#ff0000; text-decoration:none; font-weight:bold; font-family:'Anton',sans-serif; margin-right: auto;">üì∏ Instagram: @baneworkout.app</a>
      <div id="placeholder-link" style="color:#ff0000; font-weight:bold; font-family:'Anton',sans-serif; cursor:pointer;">...</div>
    </div>
    <h3 class="subtitle"></h3>
    <div class="main-tabs-nav" id="primary-tabs-nav">
      <div class="main-tab-button active" onclick="openPrimaryTab(event,'primary-tab-program')">üìö PROGRAMME</div>
      <div class="main-tab-button" onclick="openPrimaryTab(event,'primary-tab-account')">üë§ MON COMPTE üîí</div>
      <div class="main-tab-button" onclick="openPrimaryTab(event,'primary-tab-tools')">üî¨ CALCULATEURS</div>
      <div class="main-tab-button" onclick="openPrimaryTab(event,'primary-tab-community')">üéì FORMATION</div>
      <div class="main-tab-button" onclick="openPrimaryTab(event,'primary-tab-contact')">üìß CONTACT</div>
    </div>
    <div id="primary-tab-program" class="main-tab-content active">
      <div id="stepper-step-1" class="stepper-content">
        <div id="step1-data-collection" class="section">
          <h2>√âTAPE 1 : VOS INFORMATIONS PERSONNELLES</h2><label for="userEmail">Votre Email (Obligatoire pour le suivi/r√©capitulatif):</label><input type="email" id="userEmail" required placeholder="nom@exemple.com" autocomplete="off"><label for="gender">Sexe:</label><select id="gender">
            <option value="male">Homme</option>
            <option value="female">Femme</option>
          </select><label for="age">√Çge:</label><input type="number" id="age" min="15" max="100" required><label for="weight">Poids (kg):</label><input type="number" id="weight" min="30" step="0.1" required><label for="height">Taille (cm):</label><input type="number" id="height" min="100" max="250" required><label for="activity">Niveau d'Activit√©:</label><select id="activity">
            <option value="1.2">S√©dentaire (peu ou pas d'exercice)</option>
            <option value="1.375">L√©g√®rement Actif (exercice l√©ger 1-3 fois/semaine)</option>
            <option value="1.55">Mod√©r√©ment Actif (exercice mod√©r√© 3-5 fois/semaine)</option>
            <option value="1.725">Tr√®s Actif (exercice intense 6-7 fois/semaine)</option>
            <option value="1.9">Extr√™mement Actif (exercice tr√®s intense &amp; travail physique)</option>
          </select><label for="goal">Objectif Principal:</label><select id="goal">
            <option value="cut">Perte de poids (S√®che)</option>
            <option value="mass">Prise de masse (Muscle)</option>
            <option value="maintain">Maintien du poids</option>
            <option value="performance">Performance / Force</option>
          </select><label for="material">Avez-vous du Mat√©riel de Musculation ?</label><select id="material">
            <option value="yes">Oui (Salle de Sport / √âquipement Complet)</option>
            <option value="no">Non (Programme Poids du Corps uniquement)</option>
          </select><button id="validate-step1-btn" onclick="validateStep1()">VALIDER ET VOIR LE COACHING</button>
          <div id="tdeeResult" class="result" style="display: none;">
            <p><strong>Informations valid√©es !</strong></p>
            <p>IMC (Indice de Masse Corporelle): <span id="bmiValue" style="font-weight: bold;"></span> <span id="bmiStatus" class="bmi-status"></span></p>
            <p>Calories de Maintien (TDEE estim√©es): <span id="maintenanceCals" style="font-weight: bold;"></span> kcal</p>
            <p style="font-weight: bold; color: #ff0000;">Objectif Calorique estim√©: <span id="goalCals"></span> kcal</p>
            <div class="macro-detail">
              <p style="font-weight: bold;">R√©partition des Macronutriments pour l'Objectif :</p>
              <p>Prot√©ines: <span id="protGrams" style="font-weight: bold;"></span> g | Lipides: <span id="fatGrams" style="font-weight: bold;"></span> g | Glucides: <span id="carbGrams" style="font-weight: bold;"></span> g</p>
              <p style="font-size: 0.8em; color: #888;" id="macroTip"></p>
            </div>
            <p style="font-weight: bold; color: #ff0000; margin-top: 10px;">Vos informations sont pr√™tes. Passez √† l'√©tape suivante.</p>
          </div>
        </div>
      </div>
      <div id="stepper-step-2" class="stepper-content" style="display: none;">
        <div id="step2-premium-pack" class="section">
          <h2>√âTAPE 2 : LES PACKS DE PROGRAMMES</h2>
          <p style="text-align: center;">Vos donn√©es (TDEE: <strong id="recap-goalCals" style="color: #ff0000;"></strong> kcal, Poids: <strong id="recap-weight" style="color: #ff0000;"></strong> kg) ont √©t√© enregistr√©es.</p>
          <p style="text-align: center;">Choisissez le niveau de suivi qui vous correspond.</p>
          <div class="pack-offer">
            <div class="pack-header">
              <h3>PACK PROGRAMME BANE ONE</h3>
              <p class="price">9,99 ‚Ç¨</p>
            </div>
            <div class="pack-details">
              <p>Ce pack inclut :</p>
              <ul>
                <li>Programme sport bas√© sur vos donn√©es (Mat√©riel et Objectif).</li>
                <li>Programme di√®te (7 repas) calibr√© sur vos Macronutriments.</li>
                <li class="bonus">Acc√®s au Planificateur de S√©ance (Suivi de vos trainings).</li>
              </ul>
            </div><button class="buy-button-pack" onclick="handlePackPurchase('Bane One', 9.99)">ACHETER LE PACK BANE ONE (9,99 ‚Ç¨)</button>
          </div>
          <div class="pack-offer">
            <div class="pack-header">
              <h3>PACK COACHING PREMIUM BANE</h3>
              <p class="price">49,90 ‚Ç¨</p>
            </div>
            <div class="pack-details">
              <p>Ce pack d√©verrouille l'acc√®s au Suivi Pro et inclut :</p>
              <ul>
                <li>Programme sport adaptable suivant votre progression.</li>
                <li>Programme di√®te adaptable suivant votre progression.</li>
                <li>Acc√®s au Planificateur de S√©ance (Suivi de vos trainings).</li>
                <li class="bonus">Acc√®s au Tableau de Progression (Poids, Mensurations) et envoi de courriel de suivi.</li>
                <li class="bonus">Priorit√© dans les r√©ponses (sous 24h).</li>
              </ul>
            </div><button class="buy-button-pack" onclick="handlePackPurchase('Premium Bane', 49.90)">ACHETER LE PACK PREMIUM BANE (49,90 ‚Ç¨)</button>
          </div>
          <p style="text-align: center; color: #FFD700; font-weight: bold; margin-top: 20px; font-size: 0.9em;">‚ö†Ô∏è IMPORTANT : Apr√®s avoir effectu√© votre paiement PayPal ET envoy√© l'email de confirmation, le coach vous d√©bloquera l'acc√®s sous 24h. Vous recevrez un email avec les instructions de d√©blocage.</p>
          <p class="copyright-notice">¬© BaneWorkout - Toute reproduction interdite.</p>
        </div>
      </div>
      <div id="stepper-step-3" class="stepper-content" style="display: none;">
        <div class="tabs" id="inner-tabs-step3">
          <div class="tab-button active" data-tab="training-planner" onclick="openTab(event,'training-planner','inner-tabs-step3')">üóìÔ∏è PLANIFICATEUR PRO</div>
          <div class="tab-button" data-tab="progression-tracker" onclick="openTab(event,'progression-tracker','inner-tabs-step3')">üìä SUIVI DE PROGRESSION PREMIUM üîí</div>
        </div>
        <div id="training-planner" class="section tab-content active">
          <h2>üóìÔ∏è PLANIFICATEUR D'ENTRA√éNEMENT PRO</h2>
          <div id="premium-planner-message" style="display: none; text-align: center; padding: 15px; background: #008800; border-radius: 2px; font-weight: bold; color: white; margin-bottom: 15px; font-family:'Anton',sans-serif">‚úÖ ACC√àS AU PLANIFICATEUR D√âVERROUILL√â !</div>
          <div id="planner-locked-message" style="display: none; text-align: center; padding: 15px; background: #c00; border-radius: 2px; font-weight: bold; color: white; margin-bottom: 15px; font-family:'Anton',sans-serif">‚ö†Ô∏è PLANIFICATEUR R√âSERV√â AUX CLIENTS PREMIUM. ACHETEZ UN PACK POUR D√âVERROUILLER !</div>
          <div id="log-session-form">
            <h3>ENREGISTRER UNE NOUVELLE S√âANCE</h3><label for="session-date">Date de la S√©ance:</label><input type="date" id="session-date" required><label for="session-muscle">Groupe Musculaire Entra√Æn√©:</label><input type="text" id="session-muscle" placeholder="Ex: Pectoraux/Triceps/√âpaules" required><label for="session-rating">Note de la S√©ance (1-5):</label><input type="number" id="session-rating" min="1" max="5" value="4"><label for="session-mood">Humeur G√©n√©rale (V3.1):</label><select id="session-mood">
              <option value="Excellent">üí™ Excellent</option>
              <option value="Bon">üôÇ Bon</option>
              <option value="Moyen">üòê Moyen</option>
              <option value="Fatigu√©">ü•µ Fatigu√©</option>
              <option value="Mauvais">üò° Mauvais</option>
            </select><label for="session-summary">D√©tails/Meilleures S√©ries:</label><textarea id="session-summary" rows="3" placeholder="Ex: DC 4x10 @ 90kg. J'ai eu une bonne congestion. Meilleure semaine pour le squat !"></textarea><button onclick="logSession()">ENREGISTRER LA S√âANCE</button>
          </div>
          <hr style="border-color: #444; margin: 30px 0;">
          <div id="session-history">
            <h3>HISTORIQUE DES 10 DERNI√àRES S√âANCES</h3>
            <div class="table-responsive">
              <table style="width: 100%; border-collapse: collapse; text-align: left;">
                <thead>
                  <tr style="background-color: #333;">
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">Date</th>
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">Groupe</th>
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">D√©tails & Humeur</th>
                    <th style="padding: 10px; border-bottom: 2px solid #c00; width: 60px;">Note</th>
                  </tr>
                </thead>
                <tbody id="history-body">
                  <tr>
                    <td colspan="4" style="padding: 15px; text-align: center; color: #aaa;">Aucune s√©ance enregistr√©e pour le moment.</td>
                  </tr>
                </tbody>
              </table>
            </div><button id="view-full-history" class="view-full-history-btn" onclick="renderSessionHistory(true)" style="display: none;">AFFICHER L'HISTORIQUE COMPLET (20 sessions)</button>
          </div>
        </div>
        <div id="progression-tracker" class="section tab-content">
          <h2>üìä SUIVI DE PROGRESSION (PREMIUM BANE)</h2>
          <div id="premium-tracker-message" style="display: none; text-align: center; padding: 15px; background: #c00; border-radius: 2px; font-weight: bold; color: white; margin-bottom: 15px; font-family:'Anton',sans-serif">‚ö†Ô∏è FONCTIONNALIT√â R√âSERV√âE AU PACK PREMIUM BANE. ACHETEZ-LE POUR D√âVERROUILLER LE SUIVI PRO !</div>
          <div id="progression-form-section" style="display: none;">
            <h3>NOUVELLE MESURE</h3><label for="prog-date">Date de la Mesure:</label><input type="date" id="prog-date" required><label for="prog-weight">Poids Actuel (kg):</label><input type="number" id="prog-weight" step="0.1" required><label for="prog-waist">Tour de Taille (cm):</label><input type="number" id="prog-waist" step="0.5"><label for="prog-chest">Tour de Poitrine (cm):</label><input type="number" id="prog-chest" step="0.5"><label for="prog-arms">Tour de Bras (cm):</label><input type="number" id="prog-arms" step="0.1"><label for="prog-notes">Notes/Commentaires (Optionnel):</label><textarea id="prog-notes" rows="2" placeholder="Ex: Photos prises. Je me sens moins gonfl√©, plus sec."></textarea><button onclick="logProgression()">ENREGISTRER LA PROGRESSION</button><button class="buy-button-pack" style="margin-top:15px; background-color:#5a2b8e;" onclick="sendProgressionEmail()">üìß ENVOYER MON SUIVI AU COACH</button>
          </div>
          <hr style="border-color: #444; margin: 30px 0;">
          <div id="progression-history">
            <h3>HISTORIQUE DES MESURES</h3>
            <div class="table-responsive">
              <table style="width: 100%; border-collapse: collapse; text-align: left;">
                <thead>
                  <tr style="background-color: #333;">
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">Date</th>
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">Poids (kg)</th>
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">Taille (cm)</th>
                    <th style="padding: 10px; border-bottom: 2px solid #c00;">Bras (cm)</th>
                  </tr>
                </thead>
                <tbody id="progression-body">
                  <tr>
                    <td colspan="4" style="padding: 15px; text-align: center; color: #aaa;">Aucune mesure enregistr√©e.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="primary-tab-account" class="main-tab-content">
      <div class="section">
        <h2>üë§ MON COMPTE ET R√âCAPITULATIF</h2>
        <div id="account-user-settings">
          <h3>MES PARAM√àTRES PERSONNELS</h3>
          <p><strong>Email :</strong> <span id="account-email">N/A</span></p>
          <p><strong>Sexe/√Çge :</strong> <span id="account-gender-age">N/A</span></p>
          <p><strong>Poids/Taille :</strong> <span id="account-weight-height">N/A</span></p>
          <p><strong>Niveau d'Activit√© :</strong> <span id="account-activity">N/A</span></p>
          <p><strong>Mat√©riel :</strong> <span id="account-material">N/A</span></p>
          <p style="margin-top: 15px;"><strong>Objectif Actuel :</strong> <strong id="account-goal" style="color: #ff0000;">N/A</strong></p>
          <p><strong>Objectif Calorique (TDEE) :</strong> <strong id="account-goalCals">N/A</strong> kcal</p><button onclick="document.getElementById('step1-data-collection').scrollIntoView({ behavior: 'smooth' }); openPrimaryTab(event, 'primary-tab-program'); showStepperStep(1);">METTRE √Ä JOUR MES INFORMATIONS (√âTAPE 1)</button>
        </div>
        <hr style="border-color: #444; margin: 30px 0;">
        <div id="account-program-recap">
          <h3>PROGRAMME ET DI√àTE PERSONNELS</h3>
          <div id="user-program-content">
            <p id="program-access-message" style="text-align: center; color: #ff0000; font-weight: bold; padding: 10px; border: 1px dashed #ff0000; border-radius: 4px;">‚ö†Ô∏è Programme & Di√®te non accessibles. Veuillez acheter un pack.</p>
          </div>
        </div>
        <hr style="border-color: #444; margin: 30px 0;">
        <div id="account-session-history">
          <h3>HISTORIQUE RAPIDE DES S√âANCES</h3>
          <p id="account-session-summary">Aucune s√©ance enregistr√©e.</p><button onclick="openPrimaryTab(event, 'primary-tab-program'); showStepperStep(3); openTab(null,'training-planner','inner-tabs-step3');">VOIR TOUT MON PLANIFICATEUR</button>
        </div>
        <hr style="border-color: #444; margin: 30px 0;">
        <div id="account-progression-status">
          <h3>STATUT PREMIUM ET SUIVI</h3>
          <p id="account-premium-status" style="font-weight: bold;">Statut : Non-Acheteur</p><button class="buy-button-pack" onclick="openPrimaryTab(event, 'primary-tab-program'); showStepperStep(2);">ACHETER UN PACK (√âTAPE 2)</button>
        </div>
      </div>
    </div>
    <div id="primary-tab-tools" class="main-tab-content">
      <div class="tabs" id="tools-inner-tabs">
        <div class="tab-button" data-tab="tool-recap" onclick="openTab(event,'tool-recap','tools-inner-tabs')">üîó MON R√âCAPITULATIF üîí</div>
        <div class="tab-button active" data-tab="tool-calc-fly" onclick="openTab(event,'tool-calc-fly','tools-inner-tabs')">‚ûï CALCUL √Ä LA VOL√âE</div>
      </div>
      <div id="tool-recap" class="section tab-content">
        <h2>üî¨ OUTILS DE CALCUL (IMC & MACROS)</h2>
        <p style="text-align:center; color:#ccc;">Retrouvez ici les r√©sultats de vos calculs IMC et Macronutriments de l'√âtape 1 pour r√©f√©rence rapide.</p>
        <div id="tools-bmi-result" class="result" style="display: none;">
          <p><strong>IMC (Indice de Masse Corporelle):</strong> <span id="tools-bmiValue" style="font-weight: bold;"></span> <span id="tools-bmiStatus" class="bmi-status"></span></p>
          <p><strong>R√©partition des Macronutriments :</strong></p>
          <p>Prot: <span id="tools-protGrams" style="font-weight: bold;"></span> g | Lip: <span id="tools-fatGrams" style="font-weight: bold;"></span> g | Gluc: <span id="tools-carbGrams" style="font-weight: bold;"></span> g</p>
          <p style="font-size: 0.9em; color: #ff0000; margin-top: 10px;">Objectif Calorique: <span id="tools-goalCals" style="font-weight: bold;"></span> kcal</p>
        </div>
        <div id="tools-no-data" style="text-align:center; padding: 15px; background: #333; border-radius: 4px;">Veuillez remplir et valider l'√âtape 1 dans l'onglet Programme pour afficher vos r√©sultats.</div>
      </div>
      <div id="tool-calc-fly" class="section tab-content active">
        <h2>‚ûï CALCULER UN TDEE √Ä LA VOL√âE</h2>
        <p style="text-align:center; color:#ff0000; font-weight:bold;">ATTENTION : Les donn√©es saisies ici ne sont PAS enregistr√©es dans votre profil.</p><label for="cfgender">Sexe:</label><select id="cfgender">
          <option value="male">Homme</option>
          <option value="female">Femme</option>
        </select><label for="cfage">√Çge:</label><input type="number" id="cfage" min="15" max="100" placeholder="√Çge" required><label for="cfweight">Poids (kg):</label><input type="number" id="cfweight" min="30" step="0.1" placeholder="Poids (kg)" required><label for="cfheight">Taille (cm):</label><input type="number" id="cfheight" min="100" max="250" placeholder="Taille (cm)" required><label for="cfactivity">Niveau d'Activit√©:</label><select id="cfactivity">
          <option value="1.2">S√©dentaire</option>
          <option value="1.375">L√©g√®rement Actif</option>
          <option value="1.55">Mod√©r√©ment Actif</option>
          <option value="1.725">Tr√®s Actif</option>
          <option value="1.9">Extr√™mement Actif</option>
        </select><label for="cfgoal">Objectif Principal:</label><select id="cfgoal">
          <option value="cut">Perte de poids (S√®che)</option>
          <option value="mass">Prise de masse (Muscle)</option>
          <option value="maintain">Maintien du poids</option>
          <option value="performance">Performance / Force</option>
        </select><button onclick="calculateFlyData()">CALCULER LES R√âSULTATS IMM√âDIATEMENT</button>
        <div id="flyCalcResult" class="result" style="display: none;">
          <p><strong>R√©sultats du Calcul Rapide :</strong></p>
          <p>IMC : <span id="flybmiValue" style="font-weight: bold;"></span> <span id="flybmiStatus" class="bmi-status"></span></p>
          <p style="font-weight: bold; color: #ff0000;">Objectif Calorique : <span id="flygoalCals"></span> kcal</p>
          <div class="macro-detail">
            <p style="font-weight: bold;">Macros pour l'Objectif :</p>
            <p>Prot: <span id="flyprotGrams" style="font-weight: bold;"></span> g | Lip: <span id="flyfatGrams" style="font-weight: bold;"></span> g | Gluc: <span id="flycarbGrams" style="font-weight: bold;"></span> g</p>
          </div>
        </div>
      </div>
    </div>
    <div id="primary-tab-community" class="main-tab-content">
      <div id="resources-section" class="section" style="margin-top: 0;">
        <h2>üéì FORMATION BANE WORKOUT - COURS EXPERTS</h2>
        <div class="resource-grid" id="training-grid"></div>
      </div>
    </div>
    <div id="primary-tab-contact" class="main-tab-content">
      <div class="section">
        <h2>üìß CONTACTER LE COACH</h2>
        <p style="text-align: center;">Utilisez ce formulaire pour envoyer une question directe concernant votre programme ou l'application.</p><label for="contact-email">Votre Email (R√©ponse assur√©e sous 48h):</label><input type="email" id="contact-email" placeholder="Votre email pour la r√©ponse" required><label for="contact-subject">Sujet de la Question:</label><input type="text" id="contact-subject" placeholder="Ex: Question sur l'exercice de squat"><label for="contact-message">Votre Message D√©taill√©:</label><textarea id="contact-message" rows="5" placeholder="D√©crivez votre probl√®me ou votre question ici..."></textarea><button onclick="sendContactEmail()">ENVOYER MA QUESTION AU COACH</button>
        <p style="font-size: 0.8em; color: #888; text-align: center; margin-top: 15px;">Pour le suivi Premium Bane, veuillez utiliser le bouton d'envoi d√©di√© dans l'onglet "Suivi de Progression" (Programme √âtape 3).</p>
      </div>
    </div>
    <div id="rating-section" class="section">
      <h2>VOTRE AVIS COMPTE !</h2>
      <p>Aidez-nous √† am√©liorer Bane Workout en nous donnant une note :</p>
      <div class="rating-system">
        <div class="stars" id="star-rating" style="font-size: 2em; color: #555; text-align: center; cursor: pointer;"><span data-value="1">‚òÖ</span><span data-value="2">‚òÖ</span><span data-value="3">‚òÖ</span><span data-value="4">‚òÖ</span><span data-value="5">‚òÖ</span></div>
        <p style="font-size: 0.9em; color: #ccc; margin-top: 10px; text-align: center;" id="rating-message">(Cliquez sur une √©toile pour noter)</p>
      </div><button class="like-button" id="like-app-button" onclick="likeApp()">‚ù§Ô∏è J'AIME CETTE APPLICATION</button>
    </div>
    <div id="support-section" class="section" style="margin-top: 0;">
      <h2>SOUTENIR LE PROJET ‚ù§Ô∏è</h2>
      <p style="text-align: center; color: #ccc;">Chaque don, quel que soit le montant, contribue directement au d√©veloppement de nouvelles fonctionnalit√©s, √† la maintenance du projet et au soutien du coach. Merci !</p><button id="support-button" onclick="redirectToSupport()">SOUTENIR L'APPLICATION (FAIRE UN DON)</button>
      <p style="text-align: center; font-size: .75em; color: #888; margin-top: 5px;">Votre don est libre et participe au d√©veloppement de l'application et du projet.</p>
    </div>
    <div id="legal-mentions">
      <h2 style="font-size: 0.6em;">MENTIONS L√âGALES</h2>
      <p style="color: #ff0000; font-weight: bold; font-size: 0.55em;">APPLICATION PAR BASTIEN VERDU.</p>
      <p style="font-size: 0.5em;"><strong>RGPD :</strong> Donn√©es exclusives √† BaneWorkout, non c√©d√©es. Contact : <code>therealbane666@gmail.com</code>.</p>
      <p style="font-size: 0.5em;"><strong>CGU :</strong> Photos de suivi confidentielles, usage priv√© uniquement.</p>
      <p style="font-size: 0.5em; margin-top: 8px;"><strong>PROPRI√âT√â :</strong> Toute reproduction interdite et passible de poursuites.</p>
    </div>
  </div>
  <div id="articleModal" class="modal">
    <div class="modal-content"><span class="close-btn" onclick="closeArticleModal()">&times;</span>
      <h2 id="article-title"></h2>
      <div id="article-body" class="article-content"></div>
      <div class="article-rating-system">
        <p>√âvaluez cette formation :</p>
        <div class="stars" id="article-star-rating" style="font-size: 1.8em; color: #555; cursor: pointer;"><span data-value="1">‚òÖ</span><span data-value="2">‚òÖ</span><span data-value="3">‚òÖ</span><span data-value="4">‚òÖ</span><span data-value="5">‚òÖ</span></div>
        <p id="article-rating-message"></p>
      </div>
      <p class="signature">Formation r√©dig√©e et valid√©e par Bastien Verdu.</p>
    </div>
  </div>
  <div id="admin-secret-modal" class="modal">
    <div class="modal-content"><span class="close-btn" onclick="closeAdminSecretModal()">&times;</span>
      <h2>üëÅÔ∏è PANNEAU ADMINISTRATEUR COMPLET</h2>
      <div class="tabs" id="admin-tabs">
        <div class="tab-button active" onclick="openAdminTab(event,'admin-recap')">üìä R√âCAPITULATIF</div>
        <div class="tab-button" onclick="openAdminTab(event,'admin-users')">üë• UTILISATEURS</div>
        <div class="tab-button" onclick="openAdminTab(event,'admin-programs')">üìã PROGRAMMES</div>
        <div class="tab-button" onclick="openAdminTab(event,'admin-actions')">‚ö° ACTIONS</div>
      </div>
      <div id="admin-recap" class="section tab-content active" style="max-height: 500px; overflow-y: auto;">
        <h3>R√âCAPITULATIF G√âN√âRAL</h3>
        <div id="admin-recap-content"></div>
      </div>
      <div id="admin-users" class="section tab-content" style="max-height: 500px; overflow-y: auto;">
        <h3>TOUS LES UTILISATEURS</h3>
        <div id="admin-users-list"></div>
      </div>
      <div id="admin-programs" class="section tab-content" style="max-height: 500px; overflow-y: auto;">
        <h3>TOUS LES PROGRAMMES ET DI√àTES</h3>
        <div id="admin-programs-list"></div>
      </div>
      <div id="admin-actions" class="section tab-content">
        <h3>ACTIONS ADMINISTRATEUR</h3>
        <label for="admin-user-email">Email de l'utilisateur:</label>
        <input type="email" id="admin-user-email" placeholder="email@exemple.com">
        <button onclick="unlockUserPurchase()">üîì D√âBLOQUER PACK BANE ONE</button>
        <button onclick="unlockUserPremium()">‚≠ê D√âBLOQUER PACK PREMIUM</button>
        <button onclick="unlockAllTrainings()">üìö D√âBLOQUER TOUTES LES FORMATIONS</button>
        <button onclick="banUser()" style="background-color: #8B0000;">üö´ BANNIR UTILISATEUR</button>
        <button onclick="unbanUser()" style="background-color: #006400;">‚úÖ D√âBANNIR UTILISATEUR</button>
        <hr style="border-color: #444; margin: 20px 0;">
        <h3>STATISTIQUES GLOBALES</h3>
        <div id="admin-stats"></div>
      </div>
    </div>
  </div>
  <div id="admin-toggle" onclick="toggleAdminModal()">‚öôÔ∏è</div>
  <div id="admin-access-modal">
    <h4>üóùÔ∏è ACC√àS ADMINISTRATEUR</h4><input type="password" id="adminCode" placeholder="Code secret (confidentiel)"><button onclick="checkAdminAccess()">ACC√âDER</button>
  </div>
  <script>
    const OWNEREMAILHASH = "7468657265616c62616e6536363640676d61696c2e636f6d";
    const ADMINCODEHASH = "42414e45363636444556";
    
    let allUserData = null,
      isStep1Validated = !1,
      isPurchased = !1,
      isPremium = !1,
      sessionHistory = [],
      progressionHistory = [],
      totalLikes = 0,
      canLike = !0,
      purchasedTrainings = [],
      allUsersData = {},
      bannedUsers = [];

    function hexToString(t) {
      let e = '';
      for (let n = 0; n < t.length; n += 2) e += String.fromCharCode(parseInt(t.substring(n, n + 2), 16));
      return e
    }

    function updateAccountTab() {
      const t = document.getElementById('account-email'),
        e = document.getElementById('account-gender-age'),
        n = document.getElementById('account-weight-height'),
        o = document.getElementById('account-activity'),
        a = document.getElementById('account-material'),
        r = document.getElementById('account-goal'),
        l = document.getElementById('account-goalCals'),
        i = document.getElementById('account-session-summary'),
        s = document.getElementById('account-premium-status');
      if (allUserData) {
        t.textContent = allUserData.userEmail;
        const c = allUserData.gender === 'male' ? 'Homme' : 'Femme',
          u = allUserData.activityValue === '1.2' ? 'S√©dentaire' : allUserData.activityValue === '1.375' ? 'L√©g√®rement Actif' : allUserData.activityValue === '1.55' ? 'Mod√©r√©ment Actif' : allUserData.activityValue === '1.725' ? 'Tr√®s Actif' : 'Extr√™mement Actif',
          d = allUserData.material === 'yes' ? 'Oui (Complet)' : 'Non (Poids du Corps)',
          m = {
            cut: 'Perte de Poids (S√®che) üìâ',
            mass: 'Prise de Masse (Muscle) üìà',
            maintain: 'Maintien du Poids ‚öñÔ∏è',
            performance: 'Performance / Force üí™'
          };
        e.textContent = `${c}, ${allUserData.age} ans`, n.textContent = `${allUserData.weight} kg / ${allUserData.height} cm`, o.textContent = u, a.textContent = d, r.textContent = m[allUserData.goal] || allUserData.goal, l.textContent = allUserData.goalCals
      } else t.textContent = e.textContent = n.textContent = o.textContent = a.textContent = r.textContent = l.textContent = 'Veuillez remplir l\'√âtape 1.', document.getElementById('account-goalCals').textContent = 'N/A';
      sessionHistory.length > 0 ? i.innerHTML = `${sessionHistory.length} s√©ance(s) enregistr√©e(s). Derni√®re s√©ance : ${sessionHistory[0].muscle} (${sessionHistory[0].date.split('-')[2]}/${sessionHistory[0].date.split('-')[1]})` : i.textContent = 'Aucune s√©ance enregistr√©e.';
      isPremium ? s.textContent = 'Statut : Premium Bane (Suivi Pro d√©verrouill√©)' : isPurchased ? s.textContent = 'Statut : Bane One (Planificateur d√©verrouill√©)' : s.textContent = 'Statut : Non-Acheteur';
      renderUserProgram()
    }

    function renderUserProgram() {
      const t = document.getElementById('user-program-content'),
        e = document.getElementById('program-access-message');
      if (isPurchased && allUserData) {
        const n = generateProgramDetails(allUserData.goal, allUserData.material);
        t.innerHTML = n, e.style.display = 'none'
      } else t.innerHTML = '', e.style.display = 'block'
    }

    function initializeApp() {
      try {
        loadUserData(), loadHistories();
        const t = new Date().toISOString().substring(0, 10);
        document.getElementById('session-date') && (document.getElementById('session-date').value = t), document.getElementById('prog-date') && (document.getElementById('prog-date').value = t);
        updateTabNavigationStatus();
        let e = 1;
        isPurchased ? e = 3 : isStep1Validated ? e = 2 : e = 1, showStepperStep(e);
        if (isPurchased) {
          unlockPlanner(!1);
          isPremium ? unlockPremiumTracker(!1) : lockPremiumTracker(!1)
        } else {
          lockPlanner();
          if (isStep1Validated) updateRecaps();
        }
        updateAccountTab(), renderTrainingGrid(), setupStarRatingListeners();
        document.getElementById('placeholder-link').addEventListener('click', () => openPlaceholderLink())
      } catch (t) {
        // Erreur lors de l'initialisation
      }
    }

    function setupStarRatingListeners() {
      const t = document.getElementById('star-rating');
      t && t.querySelectorAll('span').forEach(e => {
        e.addEventListener('click', n => {
          const o = n.target.getAttribute('data-value');
          t.querySelectorAll('span').forEach(t => {
            t.style.color = t.getAttribute('data-value') <= o ? '#FFC107' : '#555'
          }), document.getElementById('rating-message').textContent = `Merci pour votre note de ${o} √©toiles !`
        }), e.addEventListener('mouseover', n => {
          const o = n.target.getAttribute('data-value');
          t.querySelectorAll('span').forEach(t => {
            t.style.color = t.getAttribute('data-value') <= o ? '#FFC107' : '#999'
          })
        }), e.addEventListener('mouseout', () => {
          let e = t.querySelector('span[style*="color: rgb(255, 193, 7)"]'),
            n = e ? e.getAttribute('data-value') : 0;
          t.querySelectorAll('span').forEach(t => {
            t.style.color = t.getAttribute('data-value') <= n ? '#FFC107' : '#555'
          })
        })
      })
    }

    function openPlaceholderLink() {
      alert("Ceci est un lien en attente !")
    }

    function updateTabNavigationStatus() {
      const t = document.querySelector('.main-tab-button[onclick*="primary-tab-account"]'),
        e = document.querySelector('.tab-button[data-tab="tool-recap"]');
      if (t) t.innerHTML = isPurchased ? 'üë§ MON COMPTE' : 'üë§ MON COMPTE üîí';
      if (e) e.innerHTML = isPurchased ? 'üîó MON R√âCAPITULATIF' : 'üîó MON R√âCAPITULATIF üîí'
    }

    function updateRecaps() {
      document.getElementById('recap-goalCals').textContent = allUserData.goalCals, document.getElementById('recap-weight').textContent = allUserData.weight
    }

    function loadUserData() {
      isPurchased = localStorage.getItem('isBaneOnePurchased') === 'true' || localStorage.getItem('isPremiumUser') === 'true';
      isPremium = localStorage.getItem('isPremiumUser') === 'true';
      bannedUsers = JSON.parse(localStorage.getItem('bannedUsers') || '[]');
      
      const t = localStorage.getItem('baneWorkoutUserData');
      if (t) try {
        allUserData = JSON.parse(t);
        isStep1Validated = !0;
        
        if (allUserData && allUserData.userEmail) {
          const userEmail = allUserData.userEmail;
          
          if (bannedUsers.includes(userEmail)) {
            alert('Votre compte a √©t√© banni. Veuillez contacter l\'administrateur.');
            localStorage.clear();
            location.reload();
            return;
          }
          
          const userKey = 'baneWorkoutUserData_' + userEmail;
          if (!localStorage.getItem(userKey)) {
            localStorage.setItem(userKey, JSON.stringify(allUserData));
          }
          
          const userPurchased = localStorage.getItem('isBaneOnePurchased_' + userEmail);
          const userPremium = localStorage.getItem('isPremiumUser_' + userEmail);
          
          if (userPurchased === 'true') isPurchased = true;
          if (userPremium === 'true') {
            isPremium = true;
            isPurchased = true;
          }
        }
      } catch (t) {
        localStorage.removeItem('baneWorkoutUserData');
        allUserData = null;
        isStep1Validated = !1;
        document.getElementById('userEmail').value = '';
        return
      }
      if (allUserData) {
        document.getElementById('userEmail').value = allUserData.userEmail;
        document.getElementById('gender').value = allUserData.gender;
        document.getElementById('age').value = allUserData.age;
        document.getElementById('weight').value = allUserData.weight;
        document.getElementById('height').value = allUserData.height;
        document.getElementById('activity').value = allUserData.activityValue;
        document.getElementById('goal').value = allUserData.goal;
        document.getElementById('material').value = allUserData.material;
        updateToolsTab(allUserData);
        if (allUserData.goalCals) {
          document.getElementById('validate-step1-btn').textContent = 'RE-CALCULER / METTRE √Ä JOUR MES INFORMATIONS';
          document.getElementById('bmiValue').textContent = allUserData.bmi;
          document.getElementById('maintenanceCals').textContent = allUserData.maintenanceCals;
          document.getElementById('goalCals').textContent = allUserData.goalCals;
          document.getElementById('protGrams').textContent = allUserData.protGrams;
          document.getElementById('fatGrams').textContent = allUserData.fatGrams;
          document.getElementById('carbGrams').textContent = allUserData.carbGrams;
          updateBmiStatus(parseFloat(allUserData.bmi), allUserData.goal);
          document.getElementById('tdeeResult').style.display = 'block'
        }
      }
    }

    function loadHistories() {
      try {
        const t = localStorage.getItem('baneWorkoutSessionHistory');
        t && (sessionHistory = JSON.parse(t)), renderSessionHistory(!1)
      } catch (t) {
        sessionHistory = []
      }
      try {
        const t = localStorage.getItem('baneWorkoutProgressionHistory');
        t && (progressionHistory = JSON.parse(t)), renderProgressionHistory()
      } catch (t) {
        progressionHistory = []
      }
      try {
        totalLikes = parseInt(localStorage.getItem('baneWorkoutLikes') || '0'), canLike = localStorage.getItem('baneWorkoutCanLike') !== 'false'
      } catch (t) {
        // Erreur de chargement des likes
      }
      try {
        const t = localStorage.getItem('baneWorkoutPurchasedTrainings');
        t && (purchasedTrainings = JSON.parse(t))
      } catch (t) {
        // Erreur de chargement des formations
      }
    }

    function calculateBMR(t, e, n, o) {
      return t === 'male' ? 10 * o + 6.25 * n - 5 * e + 5 : 10 * o + 6.25 * n - 5 * e - 161
    }

    function calculateTDEE(t, e) {
      return Math.round(t * e)
    }

    function calculateBMI(t, e) {
      return (t / ((e / 100) ** 2)).toFixed(2)
    }

    function getMacros(t, e, n) {
      let o, a, r;
      t === 'cut' ? (o = n - 500, a = 2.2, r = .9) : t === 'mass' ? (o = n + 300, a = 1.8, r = .8) : (o = n, a = 1.5, r = 1);
      const l = Math.round(e * a),
        i = Math.round(e * r),
        s = Math.round((o - l * 4 - i * 9) / 4);
      return {
        goalCals: o,
        protGrams: l,
        fatGrams: i,
        carbGrams: s
      }
    }

    function updateBmiStatus(t, e, n, o) {
      let a = '',
        r = '';
      t < 18.5 ? (a = 'Maigreur', r = 'status-maigreur') : t >= 18.5 && t < 25 ? (a = 'Normal', r = 'status-normal') : t >= 25 && t < 30 ? (a = 'Surpoids', r = 'status-surpoids') : (a = 'Ob√©sit√©', r = 'status-obesite');
      let l = '';
      e === 'cut' ? l = "Conseil S√®che : Visez un apport en Prot√©ines d'au moins 2.2g/kg pour prot√©ger la masse musculaire." : e === 'mass' ? l = "Conseil Masse : Assurez un surplus calorique avec des Glucides de qualit√© pour des s√©ances intenses." : l = "Conseil Maintien : √âquilibrez vos apports pour une √©nergie constante et une bonne r√©cup√©ration.", document.getElementById(`${n}bmiStatus`).textContent = a, document.getElementById(`${n}bmiStatus`).className = `bmi-status ${r}`, o && (document.getElementById(`${n}macroTip`).textContent = l)
    }

    function updateToolsTab(t) {
      const e = document.getElementById('tools-bmi-result'),
        n = document.getElementById('tools-no-data');
      if (t && t.goalCals) {
        document.getElementById('tools-bmiValue').textContent = t.bmi, document.getElementById('tools-protGrams').textContent = t.protGrams, document.getElementById('tools-fatGrams').textContent = t.fatGrams, document.getElementById('tools-carbGrams').textContent = t.carbGrams, document.getElementById('tools-goalCals').textContent = t.goalCals, updateBmiStatus(parseFloat(t.bmi), t.goal, 'tools-'), e.style.display = 'block', n.style.display = 'none'
      } else e.style.display = 'none', n.style.display = 'block'
    }

    function validateStep1() {
      const t = document.getElementById('userEmail').value.trim(),
        e = document.getElementById('gender').value,
        n = parseInt(document.getElementById('age').value),
        o = parseFloat(document.getElementById('weight').value),
        a = parseInt(document.getElementById('height').value),
        r = document.getElementById('activity'),
        l = parseFloat(r.value),
        i = document.getElementById('goal').value,
        s = document.getElementById('material').value;
      if (!t || !n || !o || !a || !l || n < 15 || o < 30 || a < 100 || !t.includes('@') || !t.includes('.')) return alert("Attention : Veuillez remplir tous les champs correctement (Email valide, √Çge min. 15 ans, Poids min. 30 kg)."), !1;
      const c = calculateBMR(e, n, o, a),
        u = calculateTDEE(c, l),
        d = calculateBMI(o, a),
        m = getMacros(i, o, u);
      return allUserData = {
        userEmail: t,
        gender: e,
        age: n,
        weight: o,
        height: a,
        activityValue: r.value,
        goal: i,
        material: s,
        bmr: c,
        maintenanceCals: u,
        goalCals: m.goalCals,
        bmi: d,
        protGrams: m.protGrams,
        fatGrams: m.fatGrams,
        carbGrams: m.carbGrams
      }, localStorage.setItem('baneWorkoutUserData', JSON.stringify(allUserData)), localStorage.setItem('baneWorkoutUserData_' + t, JSON.stringify(allUserData)), isStep1Validated = !0, updateBmiStatus(parseFloat(d), i, '', !0), document.getElementById('bmiValue').textContent = d, document.getElementById('maintenanceCals').textContent = u, document.getElementById('goalCals').textContent = m.goalCals, document.getElementById('protGrams').textContent = m.protGrams, document.getElementById('fatGrams').textContent = m.fatGrams, document.getElementById('carbGrams').textContent = m.carbGrams, document.getElementById('tdeeResult').style.display = 'block', document.getElementById('validate-step1-btn').textContent = 'RE-CALCULER / METTRE √Ä JOUR MES INFORMATIONS', updateRecaps(), updateToolsTab(allUserData), updateAccountTab(), document.querySelector('.container').scrollIntoView({
        behavior: 'smooth'
      }), showStepperStep(2), !0
    }

    function calculateFlyData() {
      const t = document.getElementById('cfgender').value,
        e = parseInt(document.getElementById('cfage').value),
        n = parseFloat(document.getElementById('cfweight').value),
        o = parseInt(document.getElementById('cfheight').value),
        a = parseFloat(document.getElementById('cfactivity').value),
        r = document.getElementById('cfgoal').value,
        l = document.getElementById('flyCalcResult');
      if (!e || !n || !o || !a || e < 15 || n < 30 || o < 100) return alert("Veuillez remplir correctement tous les champs pour le calcul √† la vol√©e."), !1;
      const i = calculateBMR(t, e, n, o),
        s = calculateTDEE(i, a),
        c = calculateBMI(n, o),
        u = getMacros(r, n, s);
      l.style.display = 'block', document.getElementById('flybmiValue').textContent = c, updateBmiStatus(parseFloat(c), r, 'fly');
      document.getElementById('flygoalCals').textContent = u.goalCals, document.getElementById('flyprotGrams').textContent = u.protGrams, document.getElementById('flyfatGrams').textContent = u.fatGrams, document.getElementById('flycarbGrams').textContent = u.carbGrams;
      document.getElementById('tool-calc-fly').scrollIntoView({
        behavior: 'smooth'
      })
    }

    function handlePackPurchase(t, e) {
      if (!allUserData || !allUserData.userEmail) return alert("Veuillez d'abord remplir et valider l'√âtape 1 avant d'acheter."), showStepperStep(1), !1;
      redirectToPayPal(t, e);
      setTimeout(() => {
        sendRecapEmail(t, e)
      }, 2000);
      return !0
    }

    function sendRecapEmail(t, e) {
      const n = allUserData.userEmail,
        o = encodeURIComponent(`Nouvelle commande BANE WORKOUT - ${t} (${e.toFixed(2)} EUR) - R√©capitulatif`),
        a = `Bonjour,\n\nJ'ai effectu√© une commande via l'application BANE WORKOUT. Voici le r√©capitulatif de ma commande :\n\n- Article achet√© : ${t}\n- Prix : ${e.toFixed(2)} EUR\n- Email Client : ${n}\n\n R√âCAPITULATIF DE MES DONN√âES \n- Objectif : ${allUserData.goal}\n- Mat√©riel : ${allUserData.material==='yes'?'Salle/√âquipement':'Poids du corps'}\n- TDEE Cible : ${allUserData.goalCals} kcal (P:${allUserData.protGrams}g / L:${allUserData.fatGrams}g / G:${allUserData.carbGrams}g)\n\nJe clique sur 'Envoyer' pour vous transmettre ce r√©capitulatif apr√®s avoir confirm√© mon paiement PayPal.\n\nCordialement.\n`;
      const r = encodeURIComponent(a),
        l = `mailto:${hexToString(OWNEREMAILHASH)}?subject=${o}&body=${r}`;
      window.open(l, '_blank'), alert(`Le paiement PayPal a √©t√© ouvert. Apr√®s avoir confirm√© votre paiement, un email de r√©capitulatif s'ouvrira. Veuillez cliquer sur 'Envoyer' dans cet email pour confirmer votre achat et d√©bloquer les fonctionnalit√©s.`)
    }

    function redirectToPayPal(t, e) {
      const n = document.createElement('form');
      n.method = 'post', n.action = 'https://www.paypal.com/cgi-bin/webscr', n.target = '_blank';
      const o = {
        cmd: '_xclick',
        business: hexToString(OWNEREMAILHASH),
        item_name: t,
        amount: e.toFixed(2),
        currency_code: 'EUR',
        custom: `${allUserData?allUserData.userEmail:'N/A'}-${Date.now()}`
      };
      for (const t in o) {
        const e = document.createElement('input');
        e.type = 'hidden', e.name = t, e.value = o[t], n.appendChild(e)
      }
      document.body.appendChild(n), n.submit(), document.body.removeChild(n)
    }

    function unlockPlanner(t = !0) {
      isPurchased = !0;
      const e = document.getElementById('premium-planner-message');
      const locked = document.getElementById('planner-locked-message');
      const form = document.getElementById('log-session-form');
      
      if (e) {
        e.style.display = 'block';
        e.style.backgroundColor = '#008800';
        e.textContent = '‚úÖ ACC√àS AU PLANIFICATEUR D√âVERROUILL√â !';
      }
      if (locked) locked.style.display = 'none';
      if (form) form.style.display = 'block';
      
      document.querySelector('.tab-button[data-tab="progression-tracker"]').innerHTML = 'üìä SUIVI DE PROGRESSION PREMIUM üîí';
      
      if (t) {
        alert("Acc√®s au Planificateur de S√©ance d√©verrouill√© ! Votre √âtape 3 est maintenant disponible.");
        showStepperStep(3);
        openTab(null, 'training-planner', 'inner-tabs-step3');
      }
    }

    function lockPlanner() {
      const e = document.getElementById('premium-planner-message');
      const locked = document.getElementById('planner-locked-message');
      const form = document.getElementById('log-session-form');
      
      if (e) e.style.display = 'none';
      if (locked) {
        locked.style.display = 'block';
        locked.style.backgroundColor = '#c00';
      }
      if (form) form.style.display = 'none';
    }

    function unlockPremiumTracker(t = !0) {
      isPremium = !0;
      const e = document.getElementById('premium-tracker-message'),
        n = document.getElementById('progression-form-section');
      e && (e.style.display = 'none'), n && (n.style.display = 'block'), document.querySelector('.tab-button[data-tab="progression-tracker"]').innerHTML = 'üìä SUIVI DE PROGRESSION', t && alert("Acc√®s Premium Bane aux outils de Suivi de Progression d√©verrouill√© !"), updateAccountTab()
    }

    function lockPremiumTracker(t = !0) {
      isPremium = !1;
      const e = document.getElementById('premium-tracker-message'),
        n = document.getElementById('progression-form-section');
      e && (e.style.display = 'block', e.style.backgroundColor = '#c00', e.textContent = '‚ö†Ô∏è FONCTIONNALIT√â R√âSERV√âE AU PACK PREMIUM BANE. ACHETEZ-LE POUR D√âVERROUILLER LE SUIVI PRO !'), n && (n.style.display = 'none'), document.querySelector('.tab-button[data-tab="progression-tracker"]').innerHTML = 'üìä SUIVI DE PROGRESSION PREMIUM üîí'
    }

    function checkAdminAccess() {
      const t = document.getElementById('adminCode').value.trim().toUpperCase();
      if (t === hexToString(ADMINCODEHASH)) {
        document.getElementById('admin-access-modal').style.display = 'none';
        document.getElementById('admin-secret-modal').style.display = 'block';
        loadAllUsersData();
        displayAdminRecap();
        generateAllPrograms();
        displayAdminStats();
        displayAllUsers();
        alert("Acc√®s Administrateur Complet R√©ussi ! Vous avez acc√®s √† toutes les donn√©es et fonctionnalit√©s.")
      } else {
        alert("Code administrateur incorrect. Veuillez vous r√©f√©rer √† votre code secret.");
        document.getElementById('adminCode').value = '';
        document.getElementById('adminCode').focus()
      }
    }

    function openAdminTab(evt, tabName) {
      const tabs = document.querySelectorAll('#admin-secret-modal .tab-content');
      tabs.forEach(t => t.style.display = 'none');
      const buttons = document.querySelectorAll('#admin-tabs .tab-button');
      buttons.forEach(b => b.classList.remove('active'));
      document.getElementById(tabName).style.display = 'block';
      if(evt && evt.currentTarget) evt.currentTarget.classList.add('active');
    }

    function loadAllUsersData() {
      allUsersData = {};
      bannedUsers = JSON.parse(localStorage.getItem('bannedUsers') || '[]');
      
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (key && key.startsWith('baneWorkoutUserData_')) {
          const email = key.replace('baneWorkoutUserData_', '');
          try {
            allUsersData[email] = JSON.parse(localStorage.getItem(key));
          } catch(e) {
            // Erreur parsing
          }
        }
      }
      
      if (allUserData && allUserData.userEmail) {
        const currentEmail = allUserData.userEmail;
        const userKey = 'baneWorkoutUserData_' + currentEmail;
        if (!localStorage.getItem(userKey)) {
          localStorage.setItem(userKey, JSON.stringify(allUserData));
          allUsersData[currentEmail] = allUserData;
        }
      }
    }

    function displayAllUsers() {
      const container = document.getElementById('admin-users-list');
      container.innerHTML = '';
      
      const userEmails = Object.keys(allUsersData);
      if (userEmails.length === 0) {
        container.innerHTML = '<p style="color: #aaa;">Aucun utilisateur enregistr√©.</p>';
        return;
      }
      
      userEmails.forEach(email => {
        const userData = allUsersData[email];
        const isBanned = bannedUsers.includes(email);
        const userPurchased = localStorage.getItem('isBaneOnePurchased_' + email) === 'true' || localStorage.getItem('isPremiumUser_' + email) === 'true';
        const userPremium = localStorage.getItem('isPremiumUser_' + email) === 'true';
        
        const userCard = document.createElement('div');
        userCard.className = 'program-card';
        userCard.style.borderLeftColor = isBanned ? '#8B0000' : (userPremium ? '#FFD700' : (userPurchased ? '#00AAFF' : '#444'));
        
        let statusBadge = isBanned ? '<span style="color: #ff0000; font-weight: bold;">[BANNI]</span>' : '';
        statusBadge += userPremium ? '<span style="color: #FFD700; font-weight: bold;"> [PREMIUM]</span>' : (userPurchased ? '<span style="color: #00AAFF; font-weight: bold;"> [BANE ONE]</span>' : '<span style="color: #666;"> [NON-ACHETEUR]</span>');
        
        userCard.innerHTML = `
          <h4 style="color: #00AAFF; margin-top: 0;">üë§ ${email} ${statusBadge}</h4>
          <p><strong>Sexe/√Çge:</strong> ${userData.gender === 'male' ? 'Homme' : 'Femme'}, ${userData.age} ans</p>
          <p><strong>Poids/Taille:</strong> ${userData.weight} kg / ${userData.height} cm</p>
          <p><strong>IMC:</strong> ${userData.bmi}</p>
          <p><strong>Objectif:</strong> ${userData.goal} | <strong>Mat√©riel:</strong> ${userData.material === 'yes' ? 'Oui' : 'Non'}</p>
          <p><strong>TDEE:</strong> ${userData.maintenanceCals} kcal | <strong>Objectif Calorique:</strong> ${userData.goalCals} kcal</p>
          <p><strong>Macros:</strong> P: ${userData.protGrams}g | L: ${userData.fatGrams}g | G: ${userData.carbGrams}g</p>
          <hr style="border-color: #333; margin: 10px 0;">
          ${generateProgramDetails(userData.goal, userData.material)}
        `;
        container.appendChild(userCard);
      });
    }

    function displayAdminRecap() {
      const container = document.getElementById('admin-recap-content');
      const totalUsers = Object.keys(allUsersData).length;
      
      const baneOnePurchased = Object.keys(allUsersData).filter(email => 
        localStorage.getItem('isBaneOnePurchased_' + email) === 'true'
      ).length;
      
      const premiumUsers = Object.keys(allUsersData).filter(email => 
        localStorage.getItem('isPremiumUser_' + email) === 'true'
      ).length;
      
      const totalPurchases = baneOnePurchased + premiumUsers;
      const conversionRate = totalUsers > 0 ? ((totalPurchases / totalUsers) * 100).toFixed(1) : 0;
      
      const revenueBaneOne = (baneOnePurchased - premiumUsers) * 9.99;
      const revenuePremium = premiumUsers * 49.90;
      const totalRevenue = revenueBaneOne + revenuePremium;
      
      const banned = bannedUsers.length;
      
      let recentUsers = [];
      Object.keys(allUsersData).forEach(email => {
        const userData = allUsersData[email];
        recentUsers.push({
          email: email,
          goal: userData.goal,
          goalCals: userData.goalCals,
          material: userData.material,
          isPremium: localStorage.getItem('isPremiumUser_' + email) === 'true',
          isPurchased: localStorage.getItem('isBaneOnePurchased_' + email) === 'true' || localStorage.getItem('isPremiumUser_' + email) === 'true'
        });
      });
      
      recentUsers = recentUsers.slice(0, 5);
      
      container.innerHTML = `
        <div style="background: #222; padding: 20px; border-radius: 6px; margin-bottom: 20px;">
          <h4 style="color: #00AAFF; margin-top: 0;">üìä STATISTIQUES GLOBALES</h4>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
            <div style="background: #1a1a1a; padding: 15px; border-radius: 4px; border-left: 3px solid #00AAFF;">
              <div style="font-size: 0.85em; color: #999;">Total Utilisateurs</div>
              <div style="font-size: 2em; font-weight: bold; color: #fff;">${totalUsers}</div>
            </div>
            <div style="background: #1a1a1a; padding: 15px; border-radius: 4px; border-left: 3px solid #FFD700;">
              <div style="font-size: 0.85em; color: #999;">Acheteurs Total</div>
              <div style="font-size: 2em; font-weight: bold; color: #FFD700;">${totalPurchases}</div>
            </div>
            <div style="background: #1a1a1a; padding: 15px; border-radius: 4px; border-left: 3px solid #ff0000;">
              <div style="font-size: 0.85em; color: #999;">Pack Bane One</div>
              <div style="font-size: 2em; font-weight: bold; color: #00AAFF;">${baneOnePurchased - premiumUsers}</div>
            </div>
            <div style="background: #1a1a1a; padding: 15px; border-radius: 4px; border-left: 3px solid #9370DB;">
              <div style="font-size: 0.85em; color: #999;">Pack Premium</div>
              <div style="font-size: 2em; font-weight: bold; color: #FFD700;">${premiumUsers}</div>
            </div>
            <div style="background: #1a1a1a; padding: 15px; border-radius: 4px; border-left: 3px solid #4CAF50;">
              <div style="font-size: 0.85em; color: #999;">Taux Conversion</div>
              <div style="font-size: 2em; font-weight: bold; color: #4CAF50;">${conversionRate}%</div>
            </div>
            <div style="background: #1a1a1a; padding: 15px; border-radius: 4px; border-left: 3px solid #8B0000;">
              <div style="font-size: 0.85em; color: #999;">Utilisateurs Bannis</div>
              <div style="font-size: 2em; font-weight: bold; color: #ff0000;">${banned}</div>
            </div>
          </div>
        </div>
        
        <div style="background: #222; padding: 20px; border-radius: 6px; margin-bottom: 20px;">
          <h4 style="color: #FFD700; margin-top: 0;">üí∞ REVENUS ESTIM√âS</h4>
          <div style="margin-top: 15px;">
            <p><strong>Pack Bane One (9,99 ‚Ç¨):</strong> ${baneOnePurchased - premiumUsers} √ó 9,99 ‚Ç¨ = <span style="color: #FFD700; font-weight: bold;">${revenueBaneOne.toFixed(2)} ‚Ç¨</span></p>
            <p><strong>Pack Premium (49,90 ‚Ç¨):</strong> ${premiumUsers} √ó 49,90 ‚Ç¨ = <span style="color: #FFD700; font-weight: bold;">${revenuePremium.toFixed(2)} ‚Ç¨</span></p>
            <hr style="border-color: #444; margin: 15px 0;">
            <p style="font-size: 1.2em;"><strong>REVENU TOTAL:</strong> <span style="color: #FFD700; font-weight: bold; font-size: 1.5em;">${totalRevenue.toFixed(2)} ‚Ç¨</span></p>
          </div>
        </div>
        
        <div style="background: #222; padding: 20px; border-radius: 6px;">
          <h4 style="color: #00AAFF; margin-top: 0;">üë• DERNIERS UTILISATEURS INSCRITS</h4>
          ${recentUsers.length > 0 ? recentUsers.map(user => `
            <div style="background: #1a1a1a; padding: 10px; margin-bottom: 10px; border-radius: 4px; border-left: 3px solid ${user.isPremium ? '#FFD700' : (user.isPurchased ? '#00AAFF' : '#666')};">
              <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                  <div style="font-weight: bold; color: #fff;">${user.email}</div>
                  <div style="font-size: 0.85em; color: #999; margin-top: 5px;">
                    Objectif: ${user.goal} | TDEE: ${user.goalCals} kcal | Mat√©riel: ${user.material === 'yes' ? 'Oui' : 'Non'}
                  </div>
                </div>
                <div style="text-align: right;">
                  ${user.isPremium ? '<span style="color: #FFD700; font-weight: bold;">PREMIUM</span>' : (user.isPurchased ? '<span style="color: #00AAFF; font-weight: bold;">BANE ONE</span>' : '<span style="color: #666;">NON-ACHETEUR</span>')}
                </div>
              </div>
            </div>
          `).join('') : '<p style="color: #aaa;">Aucun utilisateur inscrit.</p>'}
        </div>
      `;
    }

    function displayAdminStats() {
      const container = document.getElementById('admin-stats');
      const totalUsers = Object.keys(allUsersData).length;
      const purchasedUsers = Object.keys(allUsersData).filter(email => 
        localStorage.getItem('isBaneOnePurchased_' + email) === 'true' || 
        localStorage.getItem('isPremiumUser_' + email) === 'true'
      ).length;
      const premiumUsers = Object.keys(allUsersData).filter(email => 
        localStorage.getItem('isPremiumUser_' + email) === 'true'
      ).length;
      const banned = bannedUsers.length;
      
      container.innerHTML = `
        <div style="background: #222; padding: 15px; border-radius: 6px;">
          <p><strong>Total Utilisateurs:</strong> ${totalUsers}</p>
          <p><strong>Acheteurs (Bane One + Premium):</strong> ${purchasedUsers}</p>
          <p><strong>Utilisateurs Premium:</strong> ${premiumUsers}</p>
          <p><strong>Utilisateurs Bannis:</strong> ${banned}</p>
          <p><strong>Likes Totaux:</strong> ${totalLikes}</p>
        </div>
      `;
    }

    function unlockUserPurchase() {
      const email = document.getElementById('admin-user-email').value.trim();
      if (!email) return alert('Veuillez entrer un email.');
      
      localStorage.setItem('isBaneOnePurchased_' + email, 'true');
      alert(`Pack Bane One d√©bloqu√© pour ${email}`);
      displayAllUsers();
      displayAdminStats();
    }

    function unlockUserPremium() {
      const email = document.getElementById('admin-user-email').value.trim();
      if (!email) return alert('Veuillez entrer un email.');
      
      localStorage.setItem('isPremiumUser_' + email, 'true');
      localStorage.setItem('isBaneOnePurchased_' + email, 'true');
      alert(`Pack Premium d√©bloqu√© pour ${email}`);
      displayAllUsers();
      displayAdminStats();
    }

    function unlockAllTrainings() {
      const email = document.getElementById('admin-user-email').value.trim();
      if (!email) return alert('Veuillez entrer un email.');
      
      const allTrainingKeys = Object.keys(articles);
      localStorage.setItem('baneWorkoutPurchasedTrainings_' + email, JSON.stringify(allTrainingKeys));
      alert(`Toutes les formations d√©bloqu√©es pour ${email}`);
    }

    function banUser() {
      const email = document.getElementById('admin-user-email').value.trim();
      if (!email) return alert('Veuillez entrer un email.');
      
      if (!bannedUsers.includes(email)) {
        bannedUsers.push(email);
        localStorage.setItem('bannedUsers', JSON.stringify(bannedUsers));
        alert(`Utilisateur ${email} banni.`);
        displayAllUsers();
        displayAdminStats();
      } else {
        alert('Cet utilisateur est d√©j√† banni.');
      }
    }

    function unbanUser() {
      const email = document.getElementById('admin-user-email').value.trim();
      if (!email) return alert('Veuillez entrer un email.');
      
      const index = bannedUsers.indexOf(email);
      if (index > -1) {
        bannedUsers.splice(index, 1);
        localStorage.setItem('bannedUsers', JSON.stringify(bannedUsers));
        alert(`Utilisateur ${email} d√©banni.`);
        displayAllUsers();
        displayAdminStats();
      } else {
        alert('Cet utilisateur n\'est pas banni.');
      }
    }

    function toggleAdminModal() {
      const t = document.getElementById('admin-access-modal');
      t.style.display = t.style.display === 'block' ? 'none' : 'block', document.getElementById('adminCode').focus()
    }

    function closeAdminSecretModal() {
      document.getElementById('admin-secret-modal').style.display = 'none'
    }

    function generateProgramDetails(t, e) {
      const n = {
          cut: 'S√àCHE üìâ (D√©ficit -500 kcal)',
          mass: 'MASSE üìà (Surplus +300 kcal)',
          maintain: 'MAINTIEN ‚öñÔ∏è (TDEE)',
          performance: 'PERFORMANCE üí™ (Surplus L√©ger +100 kcal)'
        },
        o = n[t] || t,
        a = e === 'yes' ? '√âquipement Complet (Salle ou Domicile)' : 'Poids du Corps (Minimum/Sans mat√©riel)';
      let r, l, i = 'Niveau Adapt√© √† votre activit√© s√©lectionn√©e';
      if (t === 'cut') {
        r = 'Programme Sport ${a} : 4-5 jours/semaine. Focus sur la haute densit√© (circuits/super-s√©ries) pour augmenter le br√ªlage calorique tout en maintenant la force. S√©ances courtes et intenses.', l = 'Di√®te ${o} : Prot√©ines tr√®s √©lev√©es (2.2g/kg). Lipides mod√©r√©s (0.8g/kg). Glucides cycl√©s et concentr√©s autour de l\'entra√Ænement.'
      } else if (t === 'mass') {
        r = 'Programme Sport ${a} : 3-4 jours/semaine. Mouvements compos√©s, Surcharge Progressive (5x5 ou 8-12 reps). Repos longs (2-3 min). Objectif : Stress m√©canique maximum.', l = 'Di√®te ${o} : Prot√©ines (1.8g/kg). Glucides √©lev√©s (riz, avoine, p√¢tes compl√®tes) pour le carburant des s√©ances. Lipides sains essentiels (20-25% du total).'
      } else if (t === 'maintain') {
        r = 'Programme Sport ${a} : 3 jours Full Body ou 4 jours Split classique. √âquilibre entre force et volume. Routine constante pour maintenir la composition corporelle.', l = 'Di√®te ${o} : Macronutriments √©quilibr√©s (Prot 1.5g/kg). Flexibilit√© calorique. Concentrez-vous sur la qualit√© des aliments pour l\'√©nergie.'
      } else if (t === 'performance') {
        r = 'Programme Sport ${a} : 5 jours/semaine, fort accent sur les mouvements fondamentaux (Squat, Soulev√©, D√©velopp√©). Cycles de force pure (3-5 reps). Pr√©paration nerveuse.', l = 'Di√®te ${o} : Prot√©ines (2.0g/kg). Glucides complexes en abondance pour soutenir le syst√®me nerveux central et l\'√©nergie brute.'
      }
      return `<div class="program-card"><h4 style="color:#ff0000;">OBJECTIF : ${o}</h4><p><strong>Mat√©riel :</strong> ${a}</p><p><strong>Niveau :</strong> ${i}</p><p style="font-size: 0.9em; margin-top: 10px;">${r}</p><p style="font-size: 0.9em; font-weight: bold; color: #FFD700;">${l}</p></div>`
    }

    function generateAllPrograms() {
      const t = ['cut', 'mass', 'maintain', 'performance'],
        e = ['yes', 'no'],
        n = document.getElementById('admin-programs-list');
      n.innerHTML = '';
      t.forEach(t => {
        e.forEach(e => {
          n.innerHTML += generateProgramDetails(t, e)
        })
      })
    }

    function openPrimaryTab(t, e) {
      const n = ['primary-tab-community', 'primary-tab-contact'],
        o = document.getElementById('tools-inner-tabs').querySelector('.tab-button[data-tab="tool-calc-fly"]');
      if (!n.includes(e) && e !== 'primary-tab-program' && !isPurchased) {
        let a = "Veuillez remplir l'√âtape 1 et acheter un Pack (√âtape 2) dans l'onglet Programme pour d√©verrouiller l'application compl√®te.";
        if (!isStep1Validated) a = "Veuillez remplir l'√âtape 1 pour d√©verrouiller le reste de l'application.";
        return alert(`‚ö†Ô∏è Acc√®s Restreint : ${a}`), openPrimaryTab(null, 'primary-tab-program'), showStepperStep(isStep1Validated ? 2 : 1), !1
      }
      document.querySelectorAll(".main-tab-content").forEach(t => t.style.display = "none"), document.querySelectorAll("#primary-tabs-nav .main-tab-button").forEach(t => t.classList.remove("active"));
      const a = document.getElementById(e);
      a && (a.style.display = "block");
      if (e === 'primary-tab-tools' && isPurchased) {
        openTab(null, 'tool-recap', 'tools-inner-tabs')
      } else if (e === 'primary-tab-tools' && !isPurchased) {
        o.classList.add('active'), document.getElementById('tool-calc-fly').classList.add('active'), document.getElementById('tool-recap').classList.remove('active'), document.getElementById('tool-recap').parentElement.querySelector('[data-tab="tool-recap"]').classList.remove('active')
      }
      if (e === 'primary-tab-program') {
        if (isPurchased) showStepperStep(3);
        else if (isStep1Validated) showStepperStep(2);
        else showStepperStep(1)
      }
      if (e === 'primary-tab-community') renderTrainingGrid();
      t && t.currentTarget.classList.add("active")
    }

    function showStepperStep(t) {
      document.getElementById('stepper-step-1').style.display = 'none', document.getElementById('stepper-step-2').style.display = 'none', document.getElementById('stepper-step-3').style.display = 'none';
      const e = document.getElementById(`stepper-step-${t}`);
      e && (e.style.display = 'block', t > 1 && document.querySelector('.container').scrollIntoView({
        behavior: 'smooth'
      }), t === 3 && isPremium && document.getElementById('progression-form-section').style.display === 'block' && renderProgressionHistory())
    }

    function openTab(t, e, n) {
      if (!n) return;
      const o = document.getElementById(n);
      if (!o) return;
      const a = o.parentElement.id,
        r = document.getElementById(a);
      r.querySelectorAll(".tab-content").forEach(t => t.style.display = "none"), o.querySelectorAll(".tab-button").forEach(t => t.classList.remove("active"));
      const l = document.getElementById(e);
      if (l) {
        if (e === 'progression-tracker' && !isPremium) {
          return alert("‚ö†Ô∏è Le Suivi de Progression est r√©serv√© au Pack Premium Bane ! Veuillez l'acheter pour d√©verrouiller cette fonctionnalit√©."), !1
        }
        if (e !== 'tool-calc-fly' && a === 'tools-inner-tabs' && !isPurchased) {
          return alert("‚ö†Ô∏è Le R√©capitulatif est r√©serv√© aux acheteurs des Packs (√âtape 2) !"), openTab(null, 'tool-calc-fly', 'tools-inner-tabs'), !1
        }
        l.style.display = "block"
      }
      if (t && t.currentTarget) t.currentTarget.classList.add("active");
      else {
        const t = o.querySelector(`.tab-button[data-tab="${e}"]`);
        t && t.classList.add("active")
      }
    }

    function saveSessionHistory() {
      try {
        localStorage.setItem('baneWorkoutSessionHistory', JSON.stringify(sessionHistory))
      } catch (t) {
        // Erreur sauvegarde historique
      }
    }

    function logSession() {
      if (!isPurchased) return alert("Cette fonction est r√©serv√©e aux acheteurs (Pack Bane One ou Premium Bane)."), !1;
      const t = document.getElementById('session-date').value,
        e = document.getElementById('session-muscle').value.trim(),
        n = document.getElementById('session-summary').value.trim(),
        o = document.getElementById('session-rating').value,
        a = document.getElementById('session-mood').value;
      if (!t || !e || !n) return alert("Veuillez remplir la date, le groupe musculaire et les d√©tails de la s√©ance."), !1;
      if (parseInt(o) < 1 || parseInt(o) > 5) return alert("La note de la s√©ance doit √™tre comprise entre 1 et 5."), !1;
      const r = {
        date: t,
        muscle: e,
        summary: n,
        rating: parseInt(o),
        mood: a,
        timestamp: Date.now()
      };
      return sessionHistory.unshift(r), sessionHistory = sessionHistory.slice(0, 20), saveSessionHistory(), renderSessionHistory(!1), alert(`S√©ance du ${t} (${e}) enregistr√©e avec succ√®s ! Humeur: ${a}.`), document.getElementById('session-muscle').value = '', document.getElementById('session-summary').value = '', document.getElementById('session-rating').value = 4, document.getElementById('session-mood').value = 'Bon', document.getElementById('session-date').value = new Date().toISOString().substring(0, 10), updateAccountTab(), !0
    }

    function renderSessionHistory(t = !1) {
      const e = document.getElementById('history-body'),
        n = document.getElementById('view-full-history');
      if (!e || !n) return;
      e.innerHTML = '';
      const o = t ? sessionHistory.length : Math.min(10, sessionHistory.length),
        a = sessionHistory.slice(0, o);
      sessionHistory.length > 10 ? (n.style.display = 'block', n.textContent = t ? 'MASQUER L\'HISTORIQUE COMPLET' : `AFFICHER L'HISTORIQUE COMPLET (${sessionHistory.length} sessions)`, n.onclick = () => renderSessionHistory(!t)) : n.style.display = 'none', a.length === 0 ? e.innerHTML = '<tr><td colspan="4" style="padding: 15px; text-align: center; color: #aaa;">Aucune s√©ance enregistr√©e pour le moment.</td></tr>' : a.forEach(t => {
        const n = '‚òÖ'.repeat(t.rating) + '‚òÜ'.repeat(5 - t.rating),
          o = t.date.split('-'),
          a = `${o[2]}/${o[1]}`,
          r = e.insertRow();
        r.innerHTML = `<td style="padding: 10px; white-space: nowrap;">${a}</td><td style="padding: 10px; font-weight: bold; color: #ff0000; white-space: nowrap;">${t.muscle}</td><td style="padding: 10px; font-size: 0.9em; color: #ccc;">${t.summary} <br/> <em style="color: #aaa;">(${t.mood})</em></td><td style="padding: 10px; color: gold; white-space: nowrap;">${n}</td>`
      })
    }

    function saveProgressionHistory() {
      try {
        localStorage.setItem('baneWorkoutProgressionHistory', JSON.stringify(progressionHistory))
      } catch (t) {
        // Erreur sauvegarde progression
      }
    }

    function logProgression() {
      if (!isPremium) return alert("Cette fonction est uniquement disponible pour les utilisateurs Premium Bane."), !1;
      const t = document.getElementById('prog-date').value,
        e = parseFloat(document.getElementById('prog-weight').value),
        n = parseFloat(document.getElementById('prog-waist').value) || 0,
        o = parseFloat(document.getElementById('prog-chest').value) || 0,
        a = parseFloat(document.getElementById('prog-arms').value) || 0,
        r = document.getElementById('prog-notes').value.trim();
      if (!t || !e) return alert("Veuillez remplir au minimum la date et le poids."), !1;
      const l = {
        date: t,
        weight: e,
        waist: n,
        chest: o,
        arms: a,
        notes: r,
        timestamp: Date.now()
      };
      progressionHistory.unshift(l), saveProgressionHistory(), renderProgressionHistory(), alert(`Progression du ${t} enregistr√©e. Poids: ${e} kg.`);
      document.getElementById('prog-notes').value = ''
    }

    function renderProgressionHistory() {
      const t = document.getElementById('progression-body');
      if (!t) return;
      t.innerHTML = '';
      if (progressionHistory.length === 0) return t.innerHTML = '<tr><td colspan="4" style="padding: 15px; text-align: center; color: #aaa;">Aucune mesure enregistr√©e.</td></tr>', !1;
      progressionHistory.forEach(e => {
        const n = e.date.split('-'),
          o = `${n[2]}/${n[1]}/${n[0].substring(2)}`,
          a = t.insertRow();
        a.innerHTML = `<td style="padding: 10px;">${o}</td><td style="padding: 10px; font-weight: bold; color: #ff0000;">${e.weight?`${e.weight} kg`:''}</td><td style="padding: 10px;">${e.waist?`${e.waist} cm`:''}</td><td style="padding: 10px;">${e.chest?`${e.chest} cm`:''}</td><td style="padding: 10px;">${e.arms?`${e.arms} cm`:''}</td>`
      })
    }

    function sendProgressionEmail() {
      if (!isPremium) return alert("Cette fonction est uniquement disponible pour les utilisateurs Premium Bane."), !1;
      if (!allUserData || !allUserData.userEmail) return alert("Vos donn√©es d'utilisateur (√âtape 1) ne sont pas compl√®tes."), !1;
      const t = allUserData.userEmail,
        e = encodeURIComponent(`[PREMIUM BANE SUIVI] Progression Hebdomadaire de ${t}`);
      let n = `Bonjour Bastien,\n\nVoici le r√©capitulatif de ma progression et de mes mensurations :\n\n DONN√âES DE L'UTILISATEUR \n- Email Client : ${t}\n- Objectif : ${allUserData.goal}\n- TDEE Cible : ${allUserData.goalCals} kcal\n\n HISTORIQUE DE PROGRESSION \n${progressionHistory.map(t=>`\n--- Mesure du ${t.date.split('-')[2]}/${t.date.split('-')[1]}/${t.date.split('-')[0].substring(2)} ---\nPoids : ${t.weight} kg\nTaille : ${t.waist?t.waist+' cm':'-'}\nPoitrine : ${t.chest?t.chest+' cm':'-'}\nBras : ${t.arms?t.arms+' cm':'-'}\nNotes : ${t.notes||'N/A'}`).join('\n')}\n\n HISTORIQUE DES S√âANCES (R√âSUM√â) \n${sessionHistory.slice(0,5).map(t=>`\n[${t.date.split('-')[2]}/${t.date.split('-')[1]}] S√©ance ${t.muscle} (${t.rating}/5) - Humeur: ${t.mood}.`).join('\n')}\n\nCordialement.\n`;
      const o = encodeURIComponent(n),
        a = `mailto:${hexToString(OWNEREMAILHASH)}?subject=${e}&body=${o}`;
      window.open(a, '_blank'), alert("Votre courriel de Suivi de Progression s'ouvre. N'oubliez pas de joindre vos photos de suivi si besoin et de cliquer sur 'Envoyer'.")
    }

    function sendContactEmail() {
      const t = document.getElementById('contact-email').value.trim(),
        e = document.getElementById('contact-subject').value.trim(),
        n = document.getElementById('contact-message').value.trim();
      if (!t || !e || !n) return alert("Veuillez remplir votre courriel, le sujet et le corps du message."), !1;
      if (!t.includes('@') || !t.includes('.')) return alert("Veuillez entrer une adresse courriel valide."), !1;
      const o = encodeURIComponent(`[QUESTION BANE WORKOUT] ${e}`),
        a = encodeURIComponent(`Courriel du Client : ${t}\n\nMessage :\n${n}\n\n`);
      const r = `mailto:${hexToString(OWNEREMAILHASH)}?subject=${o}&body=${a}`;
      window.open(r, '_blank'), alert("Votre courriel de question s'ouvre dans votre messagerie. Veuillez cliquer sur 'Envoyer'.")
    }

    function redirectToSupport() {
      const t = document.createElement('form');
      t.method = 'post', t.action = 'https://www.paypal.com/cgi-bin/webscr', t.target = '_blank';
      const e = {
        cmd: '_donations',
        business: hexToString(OWNEREMAILHASH),
        item_name: 'Soutien au projet Bane Workout',
        currency_code: 'EUR'
      };
      for (const n in e) {
        const o = document.createElement('input');
        o.type = 'hidden', o.name = n, o.value = e[n], t.appendChild(o)
      }
      document.body.appendChild(t), t.submit(), document.body.removeChild(t)
    }

    function likeApp() {
      if (!canLike) return alert("Vous avez d√©j√† exprim√© votre soutien pour cette session !"), !1;
      totalLikes += 1, localStorage.setItem('baneWorkoutLikes', totalLikes.toString()), canLike = !1, localStorage.setItem('baneWorkoutCanLike', 'false'), document.getElementById('like-app-button').disabled = !0, document.getElementById('like-app-button').textContent = "‚ù§Ô∏è MERCI POUR VOTRE SOUTIEN !"
    }
    const articles = {
      hydration: {
        title: "üíß L'HYDRATATION : LE PILIER OUBLI√â DE LA PERFORMANCE ET DE LA SANT√â",
        emote: "üíß",
        content: `<h3>LE R√îLE VITAL DE L'EAU ET L'OSMOLARIT√â</h3><p>L'eau est le solvant universel, crucial pour la r√©gulation thermique et le transport des nutriments. Techniquement, une d√©shydratation de 2% de la masse corporelle peut r√©duire la force musculaire jusqu'√† 10%. L'<strong>osmolarit√©</strong> des fluides est essentielle : le ratio de solut√©s (√©lectrolytes) par rapport au solvant (eau) dans le sang doit √™tre maintenu pour une fonction cellulaire optimale. Un d√©s√©quilibre entra√Æne une perte de volume cellulaire, ce qui signale un √©tat catabolique (destruction du muscle).</p><h3>IMPACT NEUROMUSCULAIRE ET √âLECTROLYTIQUE</h3><p>Les √©lectrolytes (Sodium, Potassium, Magn√©sium, Calcium) sont vitaux pour la transmission des signaux nerveux et la contraction musculaire. Le sodium, souvent diabolis√©, est le plus critique pour maintenir le volume plasmatique. Une carence peut causer une <strong>hyponatr√©mie</strong> d'effort, perturbant la fonction du syst√®me nerveux central et r√©duisant la force maximale.</p><h3>PROTOCOLE D'HYDRATATION TECHNIQUE</h3><ul><li><strong>Base (hors entra√Ænement) :</strong> 3 √† 4 litres par jour. L'urine doit √™tre de couleur paille claire.</li><li><strong>Pendant l'entra√Ænement :</strong> Visez 7 √† 10 ml d'eau par kg de poids corporel par heure d'effort intense. Si l'effort d√©passe 60 minutes, une boisson d'effort isotonique contenant 400-600 mg de sodium par litre est recommand√©e.</li><li><strong>Post-entra√Ænement :</strong> R√©hydrater √† 150% du poids perdu. Exemple : si vous perdez 1 kg pendant la s√©ance, buvez 1,5 litre d'eau/√©lectrolytes.</li></ul>`
      },
      creatine: {
        title: "‚ö° LA CR√âATINE MONOHYDRATE : M√âCANISMES AVANC√âS DE L'ATP ET DE L'HYPERTROPHIE",
        emote: "‚ö°",
        content: `<h3>LA CHIMIE DE LA PUISSANCE EXPLOSIVE (SYST√àME PHOSPHAG√àNE)</h3><p>La Cr√©atine (Cr) fonctionne dans le syst√®me √©nerg√©tique le plus rapide : le syst√®me ATP-PCr. L'ATP se d√©grade en ADP pour lib√©rer de l'√©nergie. La Phosphocr√©atine (PCr) agit comme un 'donneur de phosphate' pour recharger l'ADP en ATP via l'enzyme <strong>cr√©atine kinase</strong>. Cette resynth√®se rapide permet de maintenir des efforts de tr√®s haute intensit√© (force maximale, sprints) sur une courte dur√©e (0-10 secondes). La saturation en Cr augmente ce 'pool' d'√©nergie imm√©diate.</p><h3>HYPERTROPHIE PAR VOLUME CELLULAIRE</h3><p>Au-del√† de l'√©nergie, la cr√©atine augmente le volume d'eau dans la cellule musculaire (hydratation cellulaire). Ce gonflement cellulaire est un signal anabolique, qui mime le stress m√©canique et peut stimuler l'expression des g√®nes myog√©niques, favorisant la synth√®se prot√©ique. C'est l'effet 'volumateur' de la cr√©atine.</p><h3>DOSAGE ET BIO-DISPONIBILIT√â</h3><ul><li><strong>Dose d'entretien :</strong> 5 grammes par jour (peu importe le timing, la saturation est cl√©).</li><li><strong>Option de charge (rapide) :</strong> 20 grammes par jour (4x5g) pendant 5 √† 7 jours, suivi de la dose d'entretien. Cette phase sature les r√©serves plus vite.</li><li><strong>Bio-disponibilit√© :</strong> La prise avec des glucides simples (jus de fruit) am√©liore l'absorption en provoquant un pic d'insuline qui transporte la cr√©atine vers le muscle.</li></ul>`
      },
      recovery: {
        title: "üò¥ R√âCUP√âRATION : LA SYNTH√àSE PROT√âIQUE ET LA GESTION DU STRESS M√âCANIQUE",
        emote: "üò¥",
        content: `<h3>DE L'EXERCICE √Ä L'ANABOLISME (MPS)</h3><p>La croissance musculaire (Hypertrophie) est le r√©sultat d'un taux de Synth√®se Prot√©ique Musculaire (MPS) sup√©rieur au taux de D√©gradation Prot√©ique Musculaire (MPB). L'entra√Ænement cr√©e un MPB √©lev√©. La r√©cup√©ration doit maximiser le MPS. Ceci est d√©clench√© par l'apport en **Leucine** (acide amin√©) et le repos.</p><h3>LE R√îLE DE L'HORMONE DE CROISSANCE ET DU CORTISOL</h3><p>Le **sommeil paradoxal et lent** est le pic de lib√©ration de l'Hormone de Croissance (GH), vitale pour la r√©paration tissulaire. Le **Cortisol** (hormone du stress) est n√©cessaire, mais un niveau chronique √©lev√© inhibe l'action de la testost√©rone et favorise le catabolisme (destruction des prot√©ines). Un √©quilibre nutritionnel (vitamines, lipides) et un sommeil suffisant sont la seule fa√ßon de contr√¥ler ce ratio anabolique/catabolique.</p><h3>STRAT√âGIES DE R√âCUP√âRATION AVANC√âE</h3><ul><li><strong>Nutrition :</strong> Ratio Glucides/Prot√©ines de 3:1 post-entra√Ænement pour maximiser le remplissage de glycog√®ne et l'insuline.</li><li><strong>D√©lai :</strong> Assurez un apport en prot√©ines toutes les 3-4 heures pour maintenir le MPS √©lev√© (protocole d'alimentation pulsatile).</li><li><strong>Sommeil :</strong> Objectif de 8 heures. Technique de **"Sleep Hygiene"** (pas d'√©cran 1h avant, chambre froide et noire) est cruciale.</li></ul>`
      },
      vitamins: {
        title: "üçé VITAMINES & MIN√âRAUX : LES CO-FACTEURS ENZYMATIQUES ET LA BIOLOGIE DU MUSCLE",
        emote: "üçé",
        content: `<h3>LES MICRONUTRIMENTS COMME CATALYSEURS</h3><p>Les micronutriments (vitamines et min√©raux) n'apportent pas d'√©nergie directement, mais agissent comme des **co-facteurs enzymatiques**. Sans eux, les enzymes (prot√©ines qui acc√©l√®rent les r√©actions) ne peuvent pas fonctionner, bloquant ainsi le m√©tabolisme (production d'√©nergie, synth√®se hormonale).</p><h3>LES D√âFICITS CL√âS POUR LE SPORTIF</h3><ul><li>**Vitamine D3 :** Agit comme une hormone st√©ro√Ødienne. Un taux optimal (>50 ng/mL) est corr√©l√© √† une meilleure densit√© osseuse, une fonction immunitaire accrue et un taux de testost√©rone plus stable. Un d√©ficit est la norme en automne/hiver.</li><li>**Magn√©sium :** Impliqu√© dans plus de 300 r√©actions, y compris la production d'ATP, la synth√®se prot√©ique et la r√©gulation du syst√®me nerveux. Une carence est la cause principale de crampes et de mauvaise qualit√© de sommeil.</li><li>**Zinc :** Essentiel pour la production de testost√©rone libre et le fonctionnement du syst√®me immunitaire. La transpiration peut acc√©l√©rer sa perte.</li></ul><p><strong>Correction technique :</strong> Privil√©giez les formes biodisponibles (ex: Glycinate ou Bisglycinate de Magn√©sium) pour maximiser l'absorption et √©viter les probl√®mes digestifs.</p>`
      },
      crampes: {
        title: "ü©π LES CRAMPES : D√âS√âQUILIBRE OSMOTIQUE ET FATIGUE NEURALE PERIPH√âRIQUE",
        emote: "ü©π",
        content: `<h3>L'ORIGINE NEURO-MUSCULAIRE DES SPASMES</h3><p>La th√©orie des crampes li√©es √† l'effort physique (EAMC) repose sur un dysfonctionnement du contr√¥le neuromusculaire. L'hypoth√®se la plus r√©cente sugg√®re une fatigue du **motoneurone p√©riph√©rique** qui m√®ne √† une hyperexcitabilit√©. En gros, le muscle se fatigue, le signal neural devient anarchique et le muscle se contracte de mani√®re incontr√¥l√©e.</p><h3>LE R√îLE DU MAGN√âSIUM ET DE LA CONTRACTION</h3><p>Le **Magn√©sium** est un antagoniste du Calcium. Il est essentiel pour la relaxation musculaire (le Calcium √©tant n√©cessaire √† la contraction). Un faible taux de Magn√©sium ou un d√©s√©quilibre Sodium/Potassium augmente le risque d'hyperexcitabilit√© du muscle.</p><h3>PR√âVENTION PAR LA DENSIT√â NUTRITIONNELLE</h3><ul><li><strong>Liquide :</strong> Utiliser des boissons de r√©hydratation orales avec des ratios pr√©cis de sodium, potassium et glucose.</li><li><strong>Micro-nutrition :</strong> Augmenter l'apport en Potassium (l√©gumes verts, patates douces) et en Magn√©sium (graines de citrouille, noix).</li><li><strong>Pr√©paration :</strong> Incorporer un √©chauffement dynamique et des exercices de mobilit√© sp√©cifiques pour augmenter le flux sanguin et pr√©parer les fuseaux neuromusculaires.</li></ul>`
      },
      hormones: {
        title: "üß™ OPTIMISATION HORMONALE : L'AXE HPTA ET LE RATIO TESTOST√âRONE/CORTISOL",
        emote: "üß™",
        content: `<h3>L'AXE HYPOTHALAMO-HYPOPHYSO-TESTICULAIRE (HPTA)</h3><p>La production de testost√©rone est r√©gul√©e par cet axe : l'hypothalamus envoie des signaux √† l'hypophyse, qui stimule les testicules. Le corps a un m√©canisme de r√©troaction n√©gative (Feedback Loop) : si la testost√©rone est trop √©lev√©e, l'axe ralentit. L'entra√Ænement lourd aux mouvements compos√©s est un des plus puissants **stimulateurs naturels** de l'HPTA.</p><h3>LE CORTISOL COMME INDICATEUR DE SURENTRA√éNEMENT</h3><p>Le Cortisol est catabolique et antagoniste √† la testost√©rone. Le **ratio Testost√©rone/Cortisol (T:C)** est le marqueur le plus fiable du stress sportif. Un ratio bas signifie un √©tat de surentra√Ænement ou de stress chronique. La r√©gulation passe par la r√©duction du volume total d'entra√Ænement (pas l'intensit√©) et l'augmentation du sommeil.</p><h3>STRAT√âGIES NUTRITIONNELLES POUR L'ANABOLISME</h3><ol><li>**Cholest√©rol :** Les st√©ro√Ødes (Testost√©rone) sont synth√©tis√©s √† partir du cholest√©rol. Maintenir un apport suffisant en lipides de qualit√© (graisses saines, au moins 25% des calories totales) est non n√©gociable pour la production hormonale.</li><li>**Vitamines et Min√©raux :** Zinc, Magn√©sium (ZMA) et Vitamine D sont des co-facteurs essentiels dans la cha√Æne de production hormonale.</li></ol>`
      },
      protein: {
        title: "üçó LES PROT√âINES : LEUCINE ET ACTIVATION DU CHEMIN MTOR POUR LA CROISSANCE",
        emote: "üçó",
        content: `<h3>LA LEUCINE ET LE CHEMIN MTOR</h3><p>La Leucine, un des trois Acides Amin√©s √† Cha√Æne Ramifi√©e (BCAA), est l'acide amin√© le plus important pour d√©clencher la Synth√®se Prot√©ique Musculaire (MPS). Elle agit comme un signal direct pour activer la voie de signalisation **mTOR** (mammalian Target Of Rapamycin), qui est le 'bouton' d'activation de la croissance musculaire.</p><h3>LE SEUIL DE LEUCINE</h3><p>Pour maximiser le MPS lors d'un repas, vous devez atteindre un seuil de Leucine de 2.5 √† 3 grammes. Cela √©quivaut g√©n√©ralement √† 25-40 grammes de prot√©ine de haute qualit√© (Whey, viande maigre, ≈ìufs). Consommer moins de 20g de prot√©ines ou une source de mauvaise qualit√© n'activera pas mTOR au maximum.</p><h3>R√âPARTITION ET DIGESTIBILIT√â</h3><ul><li><strong>Quantit√© :</strong> Visez 1.8g/kg (masse) √† 2.2g/kg (s√®che).</li><li><strong>Distribution :</strong> R√©partissez votre apport en 4 √† 6 repas (ou collations riches en prot√©ines) espac√©s de 3-4 heures pour maintenir l'activation de mTOR tout au long de la journ√©e.</li><li><strong>Qualit√© :</strong> La **Valeur Biologique** de la source prot√©ique (sa facilit√© d'utilisation par le corps) est plus importante que la quantit√© brute. Les ≈ìufs et la Whey sont au sommet.</li></ul>`
      },
      sleep: {
        title: "üåô SOMMEIL ET NEURO-R√âCUP√âRATION : LA DETTE DE SOMMEIL ET LE STRESS",
        emote: "üåô",
        content: `<h3>R√âCUP√âRATION DU SYST√àME NERVEUX CENTRAL (SNC)</h3><p>L'entra√Ænement lourd ne fatigue pas seulement les muscles, il √©puise le SNC (transmission nerveuse). C'est la **fatigue centrale**. Le sommeil est le seul moyen de restaurer les neurotransmetteurs et l'hom√©ostasie du SNC. Une dette de sommeil (manque chronique) r√©duit la capacit√© √† recruter les fibres musculaires (force) et augmente la perception de l'effort.</p><h3>L'IMPACT SUR LES HORMONES DE LA FAIM</h3><p>Le manque de sommeil d√©r√©gule deux hormones cl√©s de l'app√©tit :</p><ul><li><strong>Ghrelin (hormone de la faim) :</strong> Augmente.</li><li><strong>Leptin (hormone de la sati√©t√©) :</strong> Diminue.</li></ul><p>Ceci m√®ne √† une augmentation des fringales de glucides et de gras, rendant la s√®che ou le maintien de di√®te extr√™mement difficile.</p><h3>HYGI√àNE DE SOMMEIL (SLEEP HYGIENE)</h3><ul><li>**R√©gularit√© :** Coucher et r√©veil √† heures fixes, m√™me le week-end.</li><li>**Environnement :** Pi√®ce noire, silencieuse et fra√Æche (18¬∞C id√©alement).</li><li>**Suppl√©mentation :** L-Th√©anine et Magn√©sium peuvent aider √† induire un sommeil profond sans cr√©er de d√©pendance comme la M√©latonine.</li></ul>`
      },
      overtraining: {
        title: "ü•µ LE SURENTRA√éNEMENT SYNDROME (OTS) : DIAGNOSTIC ET GESTION DU SYST√àME NERVEUX",
        emote: "ü•µ",
        content: `<h3>LE DYSFONCTIONNEMENT AUTONOME</h3><p>Le surentra√Ænement (OTS) est un syndrome caract√©ris√© par un d√©s√©quilibre de la branche autonome du syst√®me nerveux. On observe souvent une dominance du **syst√®me sympathique** (combat/fuite) et une difficult√© √† engager le **syst√®me parasympathique** (repos/digestion).</p><h3>MARQUEURS BIOCHIMIQUES D'ALERTE</h3><p>En plus des signes subjectifs (fatigue, irritabilit√©), certains marqueurs sont √©lev√©s :</p><ul><li>**Taux de Cortisol au R√©veil** (plus haut que la normale).</li><li>**Faible taux de Testost√©rone** (d√©t√©rioration du ratio T:C).</li><li>**Faible Taux de Glutamine** (marqueur d'un syst√®me immunitaire affaibli).</li></ul><h3>LA SOLUTION : LA P√âRIODISATION ET LE DELOAD</h3><ul><li>**Le Deload :** 5 √† 7 jours de repos complet ou de travail √† 40-50% du 1RM habituel pour permettre au SNC de se restaurer. Le muscle r√©cup√®re plus vite que le SNC.</li><li>**P√©riodisation :** Int√©grer des blocs d'entra√Ænement moins intenses ou des semaines de repos planifi√©es dans l'ann√©e pour √©viter d'atteindre le point de non-retour de l'OTS.</li></ul>`
      },
      cutdiet: {
        title: "üìâ S√àCHE AVANC√âE : LA GESTION DE LA FAIM ET L'ADAPTATION M√âTABOLIQUE",
        emote: "üìâ",
        content: `<h3>L'ADAPTATION M√âTABOLIQUE (METABOLIC ADAPTATION)</h3><p>Lorsque vous √™tes en d√©ficit calorique prolong√©, le corps s'adapte en r√©duisant sa d√©pense √©nerg√©tique (TDEE). C'est la **r√©sistance √† la perte de poids** (Plateau). Pour contrer cela :</p><ul><li>**Refeeds (Jours de Recharge) :** 1 jour par semaine ou toutes les 2 semaines avec un surplus de calories (majoritairement glucides) pour relancer les hormones (Leptine) qui r√©gulent la faim et le m√©tabolisme.</li><li>**Ajustements Progressifs :** Ne jamais couper les calories de plus de 500 kcal d'un coup. Coupez de 100 kcal par 2 semaines pour laisser le corps s'adapter.</li></ul><h3>CONTR√îLE DE LA SATI√âT√â</h3><p>Prioriser les aliments √† haute densit√© nutritive et faible densit√© calorique : l√©gumes verts, prot√©ines maigres. Le volume dans l'estomac est un signal de sati√©t√©.</p>`
      },
      bulkdiet: {
        title: "üìà MASSE AVANC√âE : HYPERPLASIE, SENSITIVIT√â √Ä L'INSULINE ET SURPLUS MA√éTRIS√â",
        emote: "üìà",
        content: `<h3>L'HYPERPLASIE MUSCULAIRE</h3><p>L'Hypertrophie (augmentation de la taille des fibres) est l'objectif principal. Cependant, certains chercheurs pensent que l'Hyperplasie (cr√©ation de nouvelles fibres) peut √™tre stimul√©e par des m√©thodes avanc√©es (ex: √©tirement sous forte charge). La **Surcharge Progressive** (voir autre formation) est le moteur de ces deux processus.</p><h3>MAINTENIR LA SENSITIVIT√â √Ä L'INSULINE</h3><p>En surplus calorique, le risque de devenir **insulino-r√©sistant** augmente. Un muscle insulino-sensible stocke les glucides en glycog√®ne (muscle) et non en gras. Pour maintenir cette sensibilit√© :</p><ul><li>**Fibre :** Consommez beaucoup de fibres (l√©gumes, c√©r√©ales compl√®tes) pour ralentir l'absorption du glucose.</li><li>**Timing :** Concentrez les glucides rapides apr√®s la s√©ance, quand l'insuline est la plus efficace.</li></ul>`
      },
      carbsTiming: {
        title: "üçö TIMING GLUCIDES : CYCLAGE ET PERI-ENTRA√éNEMENT",
        emote: "üçö",
        content: `<h3>LA FEN√äTRE P√âRI-ENTRA√éNEMENT (PWO)</h3><p>La fen√™tre de 1 √† 3 heures avant et juste apr√®s l'entra√Ænement est le moment o√π la **Translocation GLUT4** est la plus efficace. Les transporteurs GLUT4, ind√©pendamment de l'insuline, acheminent le glucose vers le muscle. C'est le moment id√©al pour consommer la majorit√© de vos glucides pour minimiser le stockage de graisses.</p><h3>LE CYCLAGE GLUCIDIQUE (CARB CYCLING)</h3><p>En s√®che ou en maintien, le Carb Cycling est une m√©thode pour optimiser les r√©serves de glycog√®ne :</p><ul><li><strong>Jours Hauts :</strong> Jours d'entra√Ænement intenses (Jambes, Dos). Glucides √©lev√©s, Lipides bas.</li><li><strong>Jours Bas :</strong> Jours de repos ou d'entra√Ænement l√©gers (Bras, √âpaules). Glucides bas (principalement l√©gumes), Lipides un peu plus hauts.</li></ul>`
      },
      flexiblediet: {
        title: "üçï IIFYM : PSYCHOLOGIE NUTRITIONNELLE ET DENSIT√â MICRO-NUTRITIVE",
        emote: "üçï",
        content: `<h3>LES LIMITES DE L'HOM√âOSTASIE CALORIQUE</h3><p>Bien que les macros soient le facteur d√©terminant, le corps ne fonctionne pas en vase clos. La nourriture "poubelle" (faible en micronutriments) peut cr√©er des carences qui affectent l'√©nergie, l'humeur et le sommeil, m√™me si les macros sont respect√©es. Le corps a besoin de **nutriments de signalisation**.</p><h3>LE PRINCIPE DU 80/20</h3><p>Adoptez une approche 80% **Densit√© Nutritive** (aliments bruts, non transform√©s) et 20% **Densit√© Psychologique** (plaisir, IIFYM). Cela garantit la couverture des besoins en micronutriments tout en offrant la flexibilit√© n√©cessaire √† une adh√©sion √† long terme.</p>`
      },
      postworkout: {
        title: "ü•§ NUTRITION POST-WORKOUT : RECHARGE DE GLYCOG√àNE ET LEUCINE CIBLE",
        emote: "ü•§",
        content: `<h3>LE SHAKER ID√âAL (RAPIDE)</h3><p>L'objectif est d'arr√™ter le **Catabolisme** (destruction musculaire) et d'amorcer l'Anabolisme. L'insuline est l'hormone la plus anti-catabolique :</p><ul><li><strong>Prot√©ine :</strong> 0.4 - 0.5g/kg (Ex : 30g de Whey). La Whey a un indice de vitesse de digestion et un pic de Leucine tr√®s √©lev√©s.</li><li><strong>Glucides :</strong> 0.8 - 1.2g/kg (Ex : 60g de Dextrose/Maltodextrine). Les sucres rapides sont prioritaires pour une resynth√®se rapide du glycog√®ne.</li></ul><h3>LE REPAS SOLIDE (PLUS LENT)</h3><p>Si vous mangez un repas solide dans l'heure, la fen√™tre n'est pas critique. Un repas avec de la viande, du riz et des l√©gumes fonctionne tr√®s bien, car l'effet du repas dure des heures.</p>`
      },
      mindmuscle: {
        title: "üß† CONNEXION ESPRIT-MUSCLE : NEUROBIOLOGIE DE LA CONTRACTION OPTIMALE",
        emote: "üß†",
        content: `<h3>LE RECRUTEMENT DES UNIT√âS MOTRICES</h3><p>La connexion esprit-muscle (MMC) est la capacit√© √† augmenter le **recrutement pr√©f√©rentiel** des unit√©s motrices du muscle cible. En vous concentrant sur la contraction, vous am√©liorez l'activation des **fibres de Type II** (fibres rapides, plus susceptibles de cro√Ætre). C'est la qualit√© de la contraction, pas le poids, qui maximise l'hypertrophie.</p><h3>TEMPO ET TENSION CONSTANTE</h3><ul><li><strong>Ralentissement Excentrique :</strong> La phase n√©gative de 3-4 secondes endommage le plus les fibres et augmente le temps sous tension (TUT), signal majeur de l'hypertrophie.</li><li><strong>Tension de Pic (Pause) :</strong> Tenir la contraction en haut du mouvement (ex: Biceps) pour isoler le muscle en √©liminant l'aide des muscles stabilisateurs ou du momentum.</li></ul>`
      },
      progressives: {
        title: "ü™ú SURCHARGE PROGRESSIVE : P√âRIODISATION ET VOLUME DE TRAVAIL (SETs x REPS x CHARGE)",
        emote: "ü™ú",
        content: `<h3>LE VOLUME COMME VARIABLE CL√â</h3><p>Le volume de travail (S√©ries x R√©p√©titions x Charge) est le pr√©dicteur le plus fort de l'hypertrophie. La surcharge progressive consiste √† augmenter ce volume au fil des semaines. Ne pas progresser est la d√©finition du maintien, pas de la croissance.</p><h3>LES 4 MOD√àLES DE P√âRIODISATION</h3><ul><li><strong>Lin√©aire :</strong> Augmentation du poids (intensit√©) et baisse du volume au fil des semaines.</li><li><strong>Ondulatoire (DUP) :</strong> Variation de l'intensit√© et du volume au sein de la m√™me semaine (Ex: Jour 1 Force, Jour 2 Hypertrophie). C'est souvent plus efficace pour le pratiquant avanc√©.</li><li><strong>Fr√©quence :</strong> Augmenter la fr√©quence (nombre de fois o√π vous travaillez un muscle par semaine).</li></ul>`
      },
      warmup: {
        title: "üî• √âCHAUFFEMENT DYNAMIQUE : PR√âPARATION NEURALE ET AUGMENTATION DU FLUX SANGUIN",
        emote: "üî•",
        content: `<h3>L'EFFET DE POTENTIATION POST-ACTIVATION (PAP)</h3><p>Un √©chauffement bien structur√© utilise la **Post-Activation Potentiation (PAP)** : quelques s√©ries tr√®s lourdes et de faible volume (apr√®s l'√©chauffement) pour augmenter temporairement la force explosive, en rendant le syst√®me nerveux plus r√©actif pour les s√©ries de travail suivantes.</p><h3>LE PROTOCOLE DE L'√âCHAUFFEMENT SP√âCIFIQUE</h3><ol><li><strong>G√©n√©ral (5 min) :</strong> Augmentation de la temp√©rature centrale.</li><li><strong>Mobilit√© (5 min) :</strong> Pour les articulations cibl√©es.</li><li><strong>S√©ries d'Approche (5 min) :</strong> Augmenter progressivement la charge sur le premier exercice (Ex : 50% de la charge de travail, puis 75%, sans aller √† l'√©chec).</li></ol>`
      },
      mobility: {
        title: "üßò MOBILIT√â FONCTIONNELLE : LA PR√âVENTION DES PATHOLOGIES ARTICULAIRES (√âPAULES/HANCHES)",
        emote: "üßò",
        content: `<h3>LA DIFF√âRENCE KIN√âSIOLOGIQUE</h3><p>La mobilit√© est le travail actif des muscles autour de l'articulation (r√¥le des stabilisateurs). La flexibilit√© est la longueur des muscles. Une mauvaise mobilit√© de l'√©paule peut mener √† un **Conflit Sous-Acromial** (√©paule) ou une mauvaise mobilit√© des hanches/chevilles rendra le squat lourd impossible (risque de blessure lombaire).</p><h3>TESTS ET CORRECTIONS CL√âS</h3><ul><li><strong>Test du Squat :</strong> Si vos talons se soul√®vent, vous avez un manque de mobilit√© de la cheville. Correction : "Ankle Rocks", √©tirements du tibial ant√©rieur.</li><li><strong>Test de la Rotation Externe :</strong> Si vous avez les coudes en avant au D√©velopp√© Couch√©, votre rotation d'√©paule manque. Correction : Band Pull-Aparts, rotations externes l√©g√®res.</li></ul>`
      },
      tempo: {
        title: "‚è±Ô∏è TEMPO TRAINING : L'USAGE DE LA TENSION ET DU TUT POUR L'HYPERTROPHIE M√âTABOLIQUE",
        emote: "‚è±Ô∏è",
        content: `<h3>TEMPS SOUS TENSION (TUT)</h3><p>Le TUT est le temps total o√π le muscle est sous tension m√©canique pendant la s√©rie. Un TUT √©lev√© (40-70 secondes) maximise l'**hypertrophie m√©tabolique** (l'accumulation de sous-produits comme le lactate qui signalent la croissance). Le Tempo est l'outil pour contr√¥ler ce TUT.</p><h3>UTILISATION PRATIQUE</h3><p>Pour la force, un tempo (X-0-1-0) est id√©al (Explosif). Pour l'hypertrophie, un tempo (3-1-1-0) ou (4-0-1-0) est sup√©rieur : ralentir l'excentrique (3 ou 4) maximise le TUT et le dommage musculaire.</p>`
      },
      delts: {
        title: "üí• √âPAULES 3D : L'IMPORTANCE DE L'ARRI√àRE ET LE PRINCIPE DE LA LARGEUR",
        emote: "üí•",
        content: `<h3>LA PRIORIT√â EST AUX T√äTES LAT√âRALES ET POST√âRIEURES</h3><p>La t√™te ant√©rieure est d√©j√† sur-sollicit√©e (D√©velopp√© couch√©, pompes). La largeur de l'√©paule vient de la t√™te **lat√©rale** (√©l√©vations lat√©rales). La posture et l'√©paisseur viennent de la t√™te **post√©rieure** (arri√®re) :</p><ul><li><strong>√âl√©vations Lat√©rales :</strong> Faire en s√©rie longue (15-20 reps) et en tension constante (pas de repos en bas). Utiliser un tempo de 3-0-1-0 pour √©viter le momentum.</li><li><strong>Facepull :</strong> Exercice roi pour l'arri√®re de l'√©paule et la coiffe des rotateurs (sant√©). √Ä faire en s√©rie l√©g√®re et tr√®s contr√¥l√©e.</li></ul>`
      },
      stretching: {
        title: "üßò‚Äç‚ôÄÔ∏è √âTIREMENTS : IMPACT SUR LA PERFORMANCE, LE DOMS ET LA PR√âVENTION DES BLESSURES",
        emote: "üßò‚Äç‚ôÄÔ∏è",
        content: `<h3>LES DOMS ET L'√âLASTICIT√â</h3><p>L'√©tirement post-entra√Ænement peut aider √† r√©duire les **DOMS** (douleurs musculaires √† apparition retard√©e) en augmentant le flux sanguin et en aidant √† √©liminer les m√©tabolites. Cependant, l'effet est marginal compar√© √† une bonne hydratation.</p><h3>QUAND FAIRE DU STATIQUE ?</h3><p>Un √©tirement statique prolong√© avant l'entra√Ænement peut r√©duire la production de force (jusqu'√† 5%). Il faut donc les r√©server aux jours de repos ou juste apr√®s l'entra√Ænement. Les √©tirements dynamiques sont √† privil√©gier avant.</p>`
      },
      biofeedback: {
        title: "üî¨ BIOFEEDBACK : L'√âCOUTE DU CORPS ET LA FR√âQUENCE CARDIAQUE",
        emote: "üî¨",
        content: `<h3>LE RATING OF PERCEIVED EXERTION (RPE)</h3><p>Le RPE (√âchelle de l'effort per√ßu) est un outil de biofeedback essentiel :</p><ul><li><strong>RPE 10 :</strong> Impossible de faire une r√©p√©tition de plus.</li><li><strong>RPE 8 :</strong> Il vous reste 2 r√©p√©titions en r√©serve.</li></ul><p>Adapter votre charge journali√®re en fonction du RPE (surtout apr√®s un mauvais sommeil) est une forme de **P√©riodisation Auto-R√©gul√©e** (ARP).</p><h3>VARIABILIT√â DE LA FR√âQUENCE CARDIAQUE (HRV)</h3><p>La mesure de la HRV est un marqueur objectif de l'√©tat de votre Syst√®me Nerveux Autonome. Une HRV basse au r√©veil signifie que votre corps est en √©tat de stress (SNC non r√©cup√©r√©) : c'est un signal pour prendre un jour de repos ou faire un Deload.</p>`
      },
      fatloss: {
        title: "üî• LA LIPOLYSE : D√âCODER LA COMBUSTION DES GRAISSES (CAT√âCHOLAMINES ET HSL)",
        emote: "üî•",
        content: `<h3>LIPOLYSE VS OXYDATION</h3><p>La **Lipolyse** est la lib√©ration des graisses (triglyc√©rides) stock√©es en acides gras libres (AGL). L'**Oxydation** est la combustion de ces AGL pour l'√©nergie. Sans Lipolyse, pas d'Oxydation.</p><h3>LE R√îLE DE L'HSL ET DES CAT√âCHOLAMINES</h3><p>L'hormone **HSL** (Hormone Sensitive Lipase) est l'enzyme cl√© de la Lipolyse. Elle est activ√©e par les **Cat√©cholamines** (Adr√©naline, Noradr√©naline), qui augmentent pendant l'exercice cardiovasculaire et l'entra√Ænement √† haute intensit√©. L'insuline est l'ennemi de l'HSL : c'est pourquoi il est pr√©f√©rable de ne pas avoir de glucides rapides avant le cardio √† jeun.</p>`
      },
      flexibility: {
        title: "ü§∏ FLEXIBILIT√â ET AMORTISSEMENT DES CHOCS : TENDONS ET LIGAMENTS",
        emote: "ü§∏",
        content: `<h3>LA MATRICE EXTRACELLULAIRE (MEC)</h3><p>Les tendons et ligaments sont compos√©s de collag√®ne. Leur r√¥le est d'amortir la charge et de transmettre la force. Ils s'adaptent beaucoup plus lentement que le muscle (mois, voire ann√©es).</p><h3>RENFORCEMENT DES TENDONS</h3><p>La meilleure fa√ßon de renforcer les tendons est le travail **isom√©trique** (tenir une position sous charge) et les exercices en **amplitude compl√®te** (ROM), car cela augmente la vascularisation et la rigidit√© tendineuse.</p>`
      },
      fasting: {
        title: "üçΩÔ∏è JE√õNE INTERMITTENT (IF) : AUTOPHAGIE, INSULINE ET HORMONES",
        emote: "üçΩÔ∏è",
        content: `<h3>LE M√âCANISME DE L'AUTOPHAGIE</h3><p>Le je√ªne (au-del√† de 12-16 heures) d√©clenche l'**Autophagie**, un processus de nettoyage cellulaire o√π le corps d√©truit les prot√©ines endommag√©es et les organites pour en cr√©er de nouvelles. Cela peut avoir des avantages pour la long√©vit√© et la fonction cellulaire.</p><h3>CONTRE-INDICATIONS ET APPLICATION SPORTIVE</h3><p>Le je√ªne n'est pas sup√©rieur √† un r√©gime √† calories √©gales pour la perte de poids, mais il est un excellent outil de **simplification de la di√®te**. Cependant, pour la prise de masse, il est difficile de consommer toutes les calories n√©cessaires dans une fen√™tre de repas limit√©e (8 heures).</p>`
      },
      periodization: {
        title: "üìÖ P√âRIODISATION : L'ORGANISATION DE VOTRE MACRO-CYCLE D'ENTRA√éNEMENT",
        emote: "üìÖ",
        content: `<h3>DU MICRO AU MACRO-CYCLE</h3><p>La p√©riodisation est la planification strat√©gique de l'entra√Ænement :</p><ul><li><strong>Micro-cycle :</strong> 1 semaine de travail (Ex : 5 s√©ances).</li><li><strong>M√©so-cycle :</strong> 3-6 semaines de travail (Bloc d'hypertrophie, force, ou deload).</li><li><strong>Macro-cycle :</strong> L'ann√©e enti√®re, planifiant la s√®che, la masse et les pics de force.</li></ul><h3>√âVITER LE PLATEAU</h3><p>En variant l'intensit√© (poids) et le volume (s√©ries/r√©ps) de fa√ßon cyclique, vous √©vitez l'adaptation du corps et l'√©puisement nerveux (OTS). Le changement constant force la progression.</p>`
      },
      hypertrophy: {
        title: "üí™ LES 3 VOIES DE L'HYPERTROPHIE : M√âCANIQUE, M√âTABOLIQUE ET DOMMAGE",
        emote: "üí™",
        content: `<h3>1. TENSION M√âCANIQUE (FORCE)</h3><p>Le facteur le plus important. C'est la charge lourde (70-85% du 1RM) et le fait de pousser pr√®s de l'√©chec. La tension est le signal principal pour la croissance.</p><h3>2. STRESS M√âTABOLIQUE (CONGESTION)</h3><p>L'accumulation de m√©tabolites (acide lactique, H+), souvent en s√©ries longues (15-20 reps) et courtes pauses. C'est le sentiment de "br√ªlure" et de "pompe".</p><h3>3. DOMMAGE MUSCULAIRE (DOMS)</h3><p>L'endommagement des fibres, surtout par la phase excentrique (n√©gative) lente. Le corps r√©pare plus fort (Hypertrophie). Un dommage excessif (DOMS extr√™mes) est contre-productif pour la r√©cup√©ration.</p>`
      },
      pliometrics: {
        title: "üèÉ PLIOM√âTRIE ET PUISSANCE : L'UTILISATION DU CYCLE √âTIREMENT-RACCOURCISSEMENT",
        emote: "üèÉ",
        content: `<h3>LE SSC (STRETCH-SHORTENING CYCLE)</h3><p>La Pliom√©trie est l'entra√Ænement de la puissance (force x vitesse). Il utilise le cycle **√âtirement-Raccourcissement (SSC)** : l'√©nergie emmagasin√©e lors de l'√©tirement rapide (Ex: atterrissage d'un saut) est lib√©r√©e de mani√®re explosive lors du raccourcissement (le saut lui-m√™me).</p><h3>AVANTAGES POUR LE SPORTIF DE FORCE</h3><p>L'int√©gration de la pliom√©trie (Sauts, Lancer de ballon) am√©liore l'efficacit√© du syst√®me nerveux, augmente le taux de d√©veloppement de la force (RFD) et permet de soulever des charges plus lourdes de mani√®re plus explosive (meilleure vitesse d'ex√©cution).</p>`
      },
      corestability: {
        title: "üõ°Ô∏è STABILIT√â DU 'CORE' : DE LA FONCTION √Ä LA PERFORMANCE (BRACING ET ANTI-ROTATION)",
        emote: "üõ°Ô∏è",
        content: `<h3>LE 'CORE' N'EST PAS QUE L'ABDOMINAL</h3><p>Le Core (tronc) est le centre de transfert de la force. Il inclut les abdominaux profonds (Transverse, Obliques) et les lombaires. Un Core faible r√©duit la capacit√© √† transf√©rer la force des jambes au haut du corps et vice-versa.</p><h3>BRACING ET ANTI-ROTATION</h3><ul><li><strong>Bracing :</strong> Technique de respiration et de contraction isom√©trique pour stabiliser le tronc (comme se pr√©parer √† recevoir un coup). Essentiel pour le Squat et le Soulev√© de Terre.</li><li><strong>Anti-Rotation :</strong> Exercices (Ex: Pallof Press) qui forcent le Core √† r√©sister √† une rotation, renfor√ßant la fonction stabilisatrice.</li></ul>`
      },
      fatmetabolism: {
        title: "ü•ë M√âTABOLISME DES LIPIDES : LES GRAISSES SATUREES, INSATUREES ET LES OMEGA-3",
        emote: "ü•ë",
        content: `<h3>LE R√îLE STRUCTUREL ET HORMONAL DES LIPIDES</h3><p>Les lipides (graisses) ne sont pas seulement de l'√©nergie, ils forment les membranes cellulaires et sont le pr√©curseur des hormones st√©ro√Ødiennes (Testost√©rone, ≈ístrog√®ne). Un r√©gime trop faible en lipides (moins de 20% des calories) peut alt√©rer la production hormonale.</p><h3>L'IMPORTANCE DES OM√âGA-3</h3><p>Les Om√©ga-3 (ALA, EPA, DHA) sont des acides gras polyinsatur√©s anti-inflammatoires. Ils sont cruciaux pour la sant√© cardiovasculaire et la r√©duction de l'inflammation caus√©e par l'entra√Ænement intense. Un ratio Om√©ga-6 / Om√©ga-3 d√©s√©quilibr√© favorise l'inflammation chronique.</p>`
      },
      caloriedeficit: {
        title: "‚öñÔ∏è LE D√âFICIT CALORIQUE : TH√âORIE VS PRATIQUE (L'ADAPTATION) ET LES TRAPPES",
        emote: "‚öñÔ∏è",
        content: `<h3>LA PREMI√àRE LOI DE LA THERMODYNAMIQUE</h3><p>Perdre du poids = Calories Entrantes < Calories Sortantes. C'est non n√©gociable. Mais le corps n'est pas une simple calculatrice : le TDEE varie en r√©ponse au d√©ficit (adaptation m√©tabolique).</p><h3>LES TRAPPES DE LA PERTE DE POIDS</h3><ul><li><strong>NEAT (Non-Exercise Activity Thermogenesis) :</strong> Votre corps, en d√©ficit, r√©duit inconsciemment votre NEAT (vous bougez moins, vous gesticulez moins). Cela r√©duit votre TDEE.</li><li><strong>Baisse du Taux T3/T4 :</strong> Les hormones thyro√Ødiennes ralentissent, r√©duisant votre m√©tabolisme de base (BMR).</li></ul><p>Solution : Maintenir l'intensit√© de l'entra√Ænement et augmenter les d√©penses par l'activit√© volontaire (marche quotidienne).</p>`
      },
      mindfulness: {
        title: "üßò MINDFULNESS ET PERFORMANCE : GESTION DE L'ANXI√âT√â DE PERFORMANCE",
        emote: "üßò",
        content: `<h3>LE STRESS ET LA R√âCUP√âRATION CENTRALE</h3><p>Le stress psychologique (travail, vie) augmente le cortisol et freine la r√©cup√©ration musculaire. Le **Mindfulness** (pleine conscience) et la m√©ditation sont des outils pour engager le Syst√®me Nerveux Parasympathique (repos) et r√©duire le cortisol basal.</p><h3>L'IMPACT SUR LA S√âANCE</h3><p>L'anxi√©t√© de performance (avant un record personnel ou une comp√©tition) peut nuire √† l'ex√©cution. Les techniques de respiration (coh√©rence cardiaque) avant une s√©rie lourde am√©liorent la concentration et r√©duisent la tension nerveuse.</p>`
      },
      bloodflow: {
        title: "ü©∏ RESTRICTION DE FLUX SANGUIN (BFR) : L'HYPERTROPHIE √Ä FAIBLE CHARGE",
        emote: "ü©∏",
        content: `<h3>KAATSU TRAINING (OCCLUSION)</h3><p>Le BFR (Blood Flow Restriction) consiste √† placer des bandes √©lastiques autour de la partie proximale du membre pour restreindre le retour veineux, tout en gardant l'apport art√©riel. Le muscle est gonfl√© de sang (pompe) et l'entra√Ænement est fait avec une charge tr√®s faible (20-40% du 1RM).</p><h3>M√âCANISME</h3><p>L'accumulation de m√©tabolites (acide lactique, H+) et l'hypoxie (manque d'oxyg√®ne) dans le muscle, m√™me √† faible charge, cr√©ent un stress m√©tabolique √©norme, signalant une forte r√©ponse anabolique. Id√©al pour les blessures ou les jours de Deload.</p>`
      },
      injuryprevention: {
        title: "ü©∫ PR√âVENTION DES BLESSURES : √âCHAUFFEMENT CIBL√â ET GESTION DE LA FATIGUE",
        emote: "ü©∫",
        content: `<h3>LE PRINCIPE DU TISSU CIBLE</h3><p>Les blessures surviennent souvent lorsque le tissu (muscle, tendon) est expos√© √† une charge qu'il ne peut pas tol√©rer. La pr√©vention passe par deux √©tapes :</p><ul><li><strong>Tol√©rance au Stress :</strong> Augmenter progressivement la force des tendons et ligaments (voir Flexibilit√©).</li><li><strong>Gestion de la Charge :</strong> Ne pas faire de sauts soudains de volume ou d'intensit√©. C'est le changement soudain qui blesse.</li></ul><h3>LA SOLUTION DES √âL√âMENTS FAIBLES</h3><p>Identifier et renforcer vos maillons faibles (souvent les rotateurs d'√©paule, les fessiers) pour stabiliser les mouvements compos√©s (Squat/Deadlift).</p>`
      },
      trainingintensity: {
        title: "üìà L'INTENSIT√â : RIR (REPS IN RESERVE), √âCHEC ET SURCHARGE PAR R√âSISTANCE",
        emote: "üìà",
        content: `<h3>LE CONCEPT DU RIR (REPS IN RESERVE)</h3><p>Le RIR (R√©p√©titions en R√©serve) est la meilleure fa√ßon de quantifier l'intensit√© : un RIR 2 signifie qu'il vous reste 2 r√©p√©titions avant l'√©chec technique. Pour l'hypertrophie : visez RIR 1 √† RIR 3.</p><h3>L'√âCHEC MUSCULAIRE</h3><p>L'√©chec musculaire (impossibilit√© de faire une autre r√©p√©tition) n'est pas n√©cessaire √† chaque s√©rie. Il g√©n√®re une forte fatigue nerveuse (OTS). R√©servez-le √† la derni√®re s√©rie de votre exercice d'isolation ou de finition.</p>`
      },
      femalephysiology: {
        title: "‚ôÄÔ∏è PHYSIOLOGIE F√âMININE : CYCLE, HORMONES ET ADAPTATIONS D'ENTRA√éNEMENT",
        emote: "‚ôÄÔ∏è",
        content: `<h3>LE CYCLE MENSTRUEL ET LA PERFORMANCE</h3><p>Les variations d'≈ìstrog√®ne et de progest√©rone tout au long du cycle ont un impact :</p><ul><li><strong>Phase Folliculaire (J1-J14, apr√®s les r√®gles) :</strong> ≈ístrog√®ne haut. Meilleur moment pour l'entra√Ænement de **force et de puissance**.</li><li><strong>Phase Lut√©ale (J15-J28) :</strong> Progest√©rone haut. Tendance √† une temp√©rature centrale plus √©lev√©e (moins d'endurance). Meilleur pour le travail de **volume et la r√©cup√©ration** doit √™tre prioris√©e.</li></ul><h3>BESOINS NUTRITIONNELS SP√âCIFIQUES</h3><p>Les femmes ont un besoin accru en Fer (√† cause des menstruations) et en Calcium (densit√© osseuse) que les hommes. Le risque de blessure au ligament crois√© ant√©rieur (LCA) est plus √©lev√© durant la phase Folliculaire.</p>`
      }
    };

    function isTrainingPurchased(t) {
      return purchasedTrainings.includes(t)
    }

    function savePurchasedTrainings() {
      localStorage.setItem('baneWorkoutPurchasedTrainings', JSON.stringify(purchasedTrainings))
    }

    function handleTrainingPurchase(t, e) {
      const n = document.getElementById('userEmail').value.trim();
      if (!n || !n.includes('@') || !n.includes('.')) return alert("Veuillez d'abord remplir une adresse email valide (Onglet Programme > √âtape 1) afin d'assurer le d√©blocage et le suivi de votre achat de formation."), !1;
      if (isTrainingPurchased(t)) return alert(`La formation "${e}" est d√©j√† d√©verrouill√©e.`), !1;
      const o = 1.99;
      const a = encodeURIComponent(`Achat Formation BANE WORKOUT - ${e} (${o.toFixed(2)} EUR) - D√©blocage`),
        r = `Bonjour,\n\nJ'ai effectu√© l'achat de la formation "${e}" via l'application BANE WORKOUT au prix de ${o.toFixed(2)} EUR. Veuillez trouver ci-dessous mes informations de r√©capitulatif.\n\n- Email Client : ${n}\n- ID Formation : ${t}\n\nUne fois le paiement PayPal effectu√©, j'envoie cet email afin de vous pr√©venir de mon achat et de solliciter le d√©blocage.\n\nCordialement.\n`;
      const l = encodeURIComponent(r);
      redirectToPayPal(e, o);
      alert(`Vous allez √™tre redirig√© vers PayPal pour le paiement de ${o.toFixed(2)} ‚Ç¨. Apr√®s avoir confirm√© le paiement, un e-mail de confirmation s'ouvrira (Mailto). Vous DEVEZ cliquer sur 'Envoyer' dans cet e-mail pour finaliser la commande et obtenir le d√©blocage.`);
      setTimeout(() => {
        const i = `mailto:${hexToString(OWNEREMAILHASH)}?subject=${a}&body=${l}`;
        window.open(i, '_blank')
      }, 2000)
    }

    function renderTrainingGrid() {
      const t = document.getElementById('training-grid');
      t.innerHTML = '';
      for (const [e, n] of Object.entries(articles)) {
        const o = document.createElement('div');
        o.className = 'resource-item', o.setAttribute('data-key', e);
        const a = n.title.split(' : ');
        const titleDisplay = a.length > 1 ? a[1] : a[0].replace(/^[^\s]+\s/, '');
        const titleForPurchase = a.length > 1 ? a[1] : a[0].replace(/^[^\s]+\s/, '');
        o.innerHTML = `<div class="training-lock-icon">${n.emote}</div><div class="resource-title-main">${titleDisplay}</div><p style="font-size: 0.7em; color: #aaa; margin-top: 2px; font-weight: normal; line-height: 1;">${a[0].split(' ')[0]}</p>`;
        const r = isTrainingPurchased(e);
        if (r) {
          o.onclick = () => showArticle(e), o.setAttribute('data-unlocked', 'true'), o.querySelector('.training-lock-icon').style.color = '#fff'
        } else {
          const l = document.createElement('div');
          l.className = 'training-lock', l.innerHTML = `<div class="training-lock-icon">üîí</div><div class="training-lock-price">1,99 ‚Ç¨</div><button class="buy-button-training" onclick="event.stopPropagation(); handleTrainingPurchase('${e}','${titleForPurchase.replace(/'/g, "\\'")}')">ACHETER (1,99 ‚Ç¨)</button>`;
          o.appendChild(l)
        }
        t.appendChild(o)
      }
    }

    function showArticle(t) {
      const e = articles[t];
      if (!e) return;
      if (!isTrainingPurchased(t)) return alert("Veuillez acheter la formation pour la d√©verrouiller !"), !1;
      document.getElementById('article-title').textContent = e.title, document.getElementById('article-body').innerHTML = e.content, document.getElementById('articleModal').style.display = 'block';
      const n = document.getElementById('article-star-rating');
      const o = n.cloneNode(!0);
      n.parentNode.replaceChild(o, n);
      o.querySelectorAll('span').forEach(t => {
        t.addEventListener('click', e => {
          const n = e.target.getAttribute('data-value');
          o.querySelectorAll('span').forEach(t => {
            t.style.color = t.getAttribute('data-value') <= n ? '#FFC107' : '#555'
          }), document.getElementById('article-rating-message').textContent = `Merci pour votre note de ${n} √©toiles sur cette formation !`
        }), t.addEventListener('mouseover', e => {
          const n = e.target.getAttribute('data-value');
          o.querySelectorAll('span').forEach(t => {
            t.style.color = t.getAttribute('data-value') <= n ? '#FFC107' : '#999'
          })
        }), t.addEventListener('mouseout', () => {
          let t = o.querySelector('span[style*="color: rgb(255, 193, 7)"]'),
            e = t ? t.getAttribute('data-value') : 0;
          o.querySelectorAll('span').forEach(t => {
            t.style.color = t.getAttribute('data-value') <= e ? '#FFC107' : '#555'
          })
        })
      })
    }

    function closeArticleModal() {
      document.getElementById('articleModal').style.display = 'none'
    }
  </script>
</body>

</html>
    
  </body>
  
</html>
